import { MdxMenu, MdxInformer, MdxTabs } from '@consta/stand';

import { ComboboxExampleItems } from './examples/ComboboxExampleItems/ComboboxExampleItems';
import { ComboboxExamplePlaceholder } from './examples/ComboboxExamplePlaceholder/ComboboxExamplePlaceholder';
import { ComboboxExampleSize } from './examples/ComboboxExampleSize/ComboboxExampleSize';
import { ComboboxExampleForm } from './examples/ComboboxExampleForm/ComboboxExampleForm';
import { ComboboxExampleDisabled } from './examples/ComboboxExampleDisabled/ComboboxExampleDisabled';
import { ComboboxExampleDisabledItem } from './examples/ComboboxExampleDisabledItem/ComboboxExampleDisabledItem';
import { ComboboxExampleGroups } from './examples/ComboboxExampleGroups/ComboboxExampleGroups';
import { ComboboxExampleRenderItem } from './examples/ComboboxExampleRenderItem/ComboboxExampleRenderItem';
import { ComboboxExampleRenderValue } from './examples/ComboboxExampleRenderValue/ComboboxExampleRenderValue';
import { ComboboxExampleView } from './examples/ComboboxExampleView/ComboboxExampleView';
import { ComboboxExampleCreate } from './examples/ComboboxExampleCreate/ComboboxExampleCreate';
import { ComboboxExampleMultiple } from './examples/ComboboxExampleMultiple/ComboboxExampleMultiple';
import {
  ComboboxExampleCustomTypes,
  ComboboxExampleCustomTypesWithGroups,
} from './examples/ComboboxExampleCustomTypes/ComboboxExampleCustomTypes';
import { ComboboxExampleLabel } from './examples/ComboboxExampleLabel/ComboboxExampleLabel';
import { ComboboxExampleStatus } from './examples/ComboboxExampleStatus/ComboboxExampleStatus';
import { ComboboxExampleOnSearchValueChange } from './examples/ComboboxExampleOnSearchValueChange/ComboboxExampleOnSearchValueChange';
import { ComboboxExampleSelectAll } from './examples/ComboboxExampleSelectAll/ComboboxExampleSelectAll';
import { ComboboxExampleSearchValue } from './examples/ComboboxExampleSearchValue/ComboboxExampleSearchValue';
import { ComboboxExampleVirtualScroll } from './examples/ComboboxExampleVirtualScroll/ComboboxExampleVirtualScroll';
import { ComboboxExampleDropdownOpen } from './examples/ComboboxExampleDropdownOpen/ComboboxExampleDropdownOpen';
import { ComboboxExampleOpenByFocus } from './examples/ComboboxExampleOpenByFocus/ComboboxExampleOpenByFocus';
import {
  ComboboxExampleIsLoading,
  ComboboxExampleIsLoadingOnScrollBottom,
} from './examples/ComboboxExampleIsLoading/ComboboxExampleIsLoading';

<MdxMenu>

- [Обзор](#обзор)
- [Импорт](#импорт)
- [Свойства](#свойства)
- [Содержимое](#содержимое)
  - [Варианты](#варианты)
  - [Выбранное значение](#выбранное-значение)
  - [Подсказка](#подсказка)
  - [Заголовок и подпись](#заголовок-и-подпись)
  - [Неактивный элемент](#неактивный-элемент)
  - [Несколько вариантов](#несколько-вариантов)
  - [Группы вариантов](#группы-вариантов)
- [Внешний вид](#внешний-вид)
  - [Размер](#размер)
  - [Форма](#форма)
  - [Стиль](#стиль)
  - [Статус](#статус)
- [Поведение](#поведение)
  - [Поиск](#поиск)
  - [Создание новых вариантов](#создание-новых-вариантов)
  - [Выбор всех элементов](#выбор-всех-элементов)
  - [Виртуализация списка](#виртуализация-списка)
  - [Индикация загрузки](#индикация-загрузки)
  - [Неактивный компонент](#неактивный-компонент)
  - [Управление выпадающим списком](#управление-выпадающим-списком)
- [Кастомизация](#кастомизация)
  - [Кастомный элемент списка](#кастомный-элемент-списка)
  - [Кастомное выбранное значение](#кастомное-выбранное-значение)
  - [Кастомные типы данных](#кастомные-типы-данных)
- [Контролируемое значение поля ввода](#контролируемое-значение-поля-ввода)
- [Пример использования](#пример-использования)

</MdxMenu>

## Обзор

Компонент `Combobox` — это выпадающий список с возможностью выбора одного или нескольких элементов. Поддерживает поиск, группировку элементов, кастомизацию отображения и другие функции, такие как виртуализация скролла и создание новых элементов.

## Импорт

```tsx
import { Combobox } from '@consta/uikit/Combobox';
```

## Свойства

| Свойство                                                     | Тип или варианты значения                              | По умолчанию              | Описание                                                   |
| ------------------------------------------------------------ | ------------------------------------------------------ | ------------------------- | ---------------------------------------------------------- |
| [`items`](#варианты)                                         | `ITEM[]`                                               | -                         | Варианты списка                                            |
| [`value?`](#выбранное-значение)                              | `ComboboxPropValue<ITEM, MULTIPLE>`                    | -                         | Выбранное значение                                         |
| [`onChange?`](#выбранное-значение)                           | `ComboboxPropOnChange<ITEM, MULTIPLE>`                 | -                         | Обработчик изменения значения                              |
| [`placeholder?`](#подсказка)                                 | `string`                                               | -                         | Подсказка, отображается, когда вариант не выбран           |
| [`label?`](#заголовок-и-подпись)                             | `string`                                               | -                         | Заголовок                                                  |
| [`labelPosition?`](#заголовок-и-подпись)                     | `'top' \| 'left'`                                      | `'top'`                   | Положение заголовка                                        |
| [`caption?`](#заголовок-и-подпись)                           | `string`                                               | -                         | Подпись                                                    |
| [`labelIcon?`](#заголовок-и-подпись)                         | `IconComponent`                                        | -                         | Иконка справа от заголовка                                 |
| [`groups?`](#группы-вариантов)                               | `GROUP[]`                                              | -                         | Группы вариантов                                           |
| [`multiple?`](#несколько-вариантов)                          | `boolean`                                              | `false`                   | Включение множественного выбора                            |
| [`size?`](#размер)                                           | `'xs' \| 's' \| 'm' \| 'l'`                            | `'m'`                     | Размер компонента                                          |
| [`form?`](#форма)                                            | `'default' \| 'brick' \| 'round' \| ...`               | `'default'`               | Форма компонента                                           |
| [`view?`](#стилизация)                                       | `'default' \| 'clear'`                                 | `'default'`               | Внешний вид компонента                                     |
| [`status?`](#статус)                                         | `'' \| 'alert' \| 'success' \| 'warning'`              | `''`                      | Статус поля                                                |
| [`disabled?`](#неактивный-компонент)                         | `boolean`                                              | -                         | Делает компонент неактивным                                |
| [`searchFunction?`](#поиск)                                  | `ComboboxPropSearchFunction<ITEM>`                     | Поиск по `label`          | Функция поиска                                             |
| [`onSearchValueChange?`](#поиск)                             | `(value: string) => void`                              | -                         | Обработчик изменения строки поиска                         |
| [`labelForNotFound?`](#поиск)                                | `string`                                               | `'Не найдено'`            | Текст, если при поиске ничего не найдено                   |
| [`labelForCreate?`](#создание-новых-вариантов)               | `string`                                               | `'+'`                     | Текст кнопки для создания нового элемента                  |
| [`onCreate?`](#создание-новых-вариантов)                     | `ComboboxPropOnCreate`                                 | -                         | Обработчик создания нового элемента                        |
| [`selectAll?`](#выбор-всех-элементов)                        | `boolean`                                              | `false`                   | Включение выбора всех элементов                            |
| [`allSelectedAllLabel?`](#выбор-всех-элементов)              | `string`                                               | `'Все'`                   | Текст при выборе всех элементов                            |
| [`virtualScroll?`](#виртуализация-списка)                    | `boolean`                                              | -                         | Включение виртуализации скролла                            |
| [`isLoading?`](#индикация-загрузки)                          | `boolean`                                              | -                         | Отображение индикатора загрузки                            |
| [`onScrollToBottom?`](#индикация-загрузки)                   | `(length: number) => void`                             | -                         | Обработчик прокрутки до конца списка                       |
| [`dropdownOpen?`](#управление-выпадающим-списком)            | `boolean`                                              | -                         | Состояние выпадающего списка (открыт/закрыт)               |
| [`onDropdownOpen?`](#управление-выпадающим-списком)          | `(open: boolean) => void`                              | -                         | Обработчик открытия/закрытия списка                        |
| [`ignoreOutsideClicksRefs?`](#управление-выпадающим-списком) | `ReadonlyArray<React.RefObject<HTMLElement>>`          | -                         | Ссылки на элементы, игнорируемые при кликах вне компонента |
| [`renderItem?`](#кастомный-элемент-списка)                   | `ComboboxPropRenderItem<ITEM>`                         | Рендер по умолчанию       | Рендер-функция для элемента списка                         |
| [`renderValue?`](#кастомное-выбранное-значение)              | `ComboboxPropRenderValue<ITEM>`                        | Рендер по умолчанию       | Рендер-функция для выбранного значения                     |
| [`getItemLabel?`](#кастомные-типы-данных)                    | `ComboboxPropGetItemLabel<ITEM>`                       | `(item) => item.label`    | Получение названия элемента                                |
| [`getItemKey?`](#кастомные-типы-данных)                      | `ComboboxPropGetItemKey<ITEM>`                         | `(item) => item.id`       | Получение ключа элемента                                   |
| [`getItemGroupKey?`](#кастомные-типы-данных)                 | `ComboboxPropGetItemGroupKey<ITEM>`                    | `(item) => item.groupId`  | Получение ключа группы                                     |
| [`getItemDisabled?`](#кастомные-типы-данных)                 | `ComboboxPropGetItemDisabled<ITEM>`                    | `(item) => item.disabled` | Получение состояния `disabled`                             |
| [`getGroupKey?`](#кастомные-типы-данных)                     | `ComboboxPropGetGroupKey<GROUP>`                       | `(group) => group.id`     | Получение ключа группы                                     |
| [`getGroupLabel?`](#кастомные-типы-данных)                   | `ComboboxPropGetGroupLabel<GROUP>`                     | `(group) => group.label`  | Получение названия группы                                  |
| `searchValue?`                                               | `string`                                               | -                         | Значение поля ввода                                        |
| `labelForEmptyItems?`                                        | `string`                                               | `'Список пуст'`           | Текст, если список пуст                                    |
| `required?`                                                  | `boolean`                                              | -                         | Обязательность заполнения                                  |
| `onBlur?`                                                    | `(event?: React.FocusEvent<HTMLInputElement>) => void` | -                         | Обработчик события `blur`                                  |
| `onFocus?`                                                   | `(event?: React.FocusEvent<HTMLInputElement>) => void` | -                         | Обработчик события `focus`                                 |
| `ariaLabel?`                                                 | `string`                                               | -                         | `aria` атрибут для поля ввода                              |
| `name?`                                                      | `string`                                               | -                         | Имя поля ввода                                             |
| `className?`                                                 | `string`                                               | -                         | Дополнительный CSS-класс                                   |
| `dropdownClassName?`                                         | `string`                                               | -                         | CSS-класс для выпадающего блока                            |
| `ref?`                                                       | `React.Ref<HTMLDivElement>`                            | -                         | Ссылка на корневой DOM-элемент                             |

```tsx
type ComboboxItemDefault = {
  label: string;
  id: string | number;
  groupId?: string | number;
  disabled?: boolean;
};

type ComboboxGroupDefault = {
  label: string;
  id: string | number;
};

type ComboboxPropOnChange<ITEM, MULTIPLE extends boolean> = (
  value: (MULTIPLE extends true ? ITEM[] : ITEM) | null,
  props: {
    e: React.SyntheticEvent;
  },
) => void;

type ComboboxPropRenderItem<ITEM = DefaultItem> = (props: {
  item: ITEM;
  active: boolean;
  hovered: boolean;
  onClick: React.ReactEventHandler;
  onMouseEnter: React.ReactEventHandler;
}) => React.ReactNode | null;

type ComboboxPropValue<ITEM, MULTIPLE extends boolean> =
  | (MULTIPLE extends true ? ITEM[] : ITEM)
  | null
  | undefined;

type ComboboxPropRenderValue<ITEM> = (props: {
  item: ITEM;
}) => React.ReactNode | null;

type ComboboxPropSearchFunction<ITEM> = (
  item: ITEM,
  searchValue: string,
) => boolean;

type ComboboxPropGetItemLabel<ITEM> = (item: ITEM) => string;
type ComboboxPropGetItemKey<ITEM> = (item: ITEM) => string | number;
type ComboboxPropGetItemGroupKey<ITEM> = (
  item: ITEM,
) => string | number | undefined;
type ComboboxPropGetItemDisabled<ITEM> = (item: ITEM) => boolean | undefined;
type ComboboxPropGetGroupKey<GROUP> = (group: GROUP) => string | number;
type ComboboxPropGetGroupLabel<GROUP> = (group: GROUP) => string;

type ComboboxPropOnCreate = (
  label: string,
  props: { e: React.SyntheticEvent },
) => void;
```

## Содержимое

### Варианты

Список элементов задаётся через свойство `items`. Элементы по умолчанию имеют тип `ComboboxItemDefault`:

- `label` — название элемента (рекомендуется с заглавной буквы, без точки).
- `id` — уникальный ключ.
- `groupId` — идентификатор группы, если элементы сгруппированы.
- `disabled` — флаг неактивности элемента.

<MdxTabs>

<ComboboxExampleItems />

```tsx
<Combobox
  items={items}
  value={value}
  onChange={setValue}
  placeholder="Выберите нужный элемент из списка"
/>
```

</MdxTabs>

### Выбранное значение

Свойство `value` задаёт текущее выбранное значение. Для обработки выбора используется `onChange`, который возвращает выбранное значение и событие. Выбор происходит по клику или нажатию `Enter`.

<MdxTabs>

<ComboboxExampleItems />

```tsx
<Combobox
  items={items}
  value={value}
  onChange={setValue}
  placeholder="Выберите нужный элемент из списка"
/>
```

</MdxTabs>

### Подсказка

Свойство `placeholder` задаёт текст, отображаемый, когда ничего не выбрано. Рекомендуется использовать понятный текст, например, "Выберите вариант".

<MdxTabs>

<ComboboxExamplePlaceholder />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

### Заголовок и подпись

- `label` — задаёт заголовок.
- `labelPosition` — положение заголовка (`'top'` или `'left'`, по умолчанию `'top'`).
- `caption` — подпись под компонентом.

<MdxTabs>

<ComboboxExampleLabel />

```tsx
<Combobox
  label="Выберите что-нибудь"
  caption={value?.label}
  items={items}
  value={value}
  onChange={setValue}
  placeholder="Выберите нужный элемент из списка"
/>
```

</MdxTabs>

### Неактивный элемент

Для отключения элемента в списке добавьте `disabled: true` в объект элемента в `items`.

<MdxTabs>

<ComboboxExampleDisabledItem />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

### Несколько вариантов

Свойство `multiple` позволяет выбрать несколько элементов. В этом случае `value` и `onChange` работают с массивом.

<MdxTabs>

<ComboboxExampleMultiple />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
  multiple
/>
```

</MdxTabs>

### Группы вариантов

Свойство `groups` задаёт группы элементов. Группы по умолчанию имеют тип `ComboboxGroupDefault` с полями `label` и `id`. Элементы связываются с группами через `groupId`.

<MdxTabs>

<ComboboxExampleGroups />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
  groups={groups}
/>
```

</MdxTabs>

## Внешний вид

### Размер

Свойство `size` определяет размер компонента: `'xs'`, `'s'`, `'m'`, `'l'` (по умолчанию `'m'`). Компонент занимает всю ширину родительского блока.

<MdxTabs>

<ComboboxExampleSize />

```tsx
<Combobox
  placeholder="Размер s"
  size="s"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

### Форма

Свойство `form` задаёт форму компонента: `'default'`, `'brick'`, `'round'`, `'clearRound'`, `'roundClear'`, `'clearDefault'`, `'defaultClear'`, `'defaultBrick'`, `'brickDefault'`, `'brickClear'`, `'clearBrick'`, `'clearClear'` (по умолчанию `'default'`).

<MdxTabs>

<ComboboxExampleForm />

```tsx
<Combobox
  placeholder="Форма round"
  form="round"
  items={items}
  value={value}
  onChange={setValue}
/>
<Combobox
  placeholder="Форма defaultBrick"
  form="defaultBrick"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

### Стиль

Свойство `view` определяет стиль: `'default'` или `'clear'` (по умолчанию `'default'`). Вид `'clear'` подходит для кастомных полей ввода.

<MdxInformer status="warning">

Вид `clear` не поддерживает hover-эффект. Реализуйте его самостоятельно, если нужно.

</MdxInformer>

<MdxTabs>

<ComboboxExampleView />

```tsx
<Combobox
  placeholder="Вид default"
  view="default"
  items={items}
  value={value}
  onChange={setValue}
/>
<Combobox
  placeholder="Вид clear"
  view="clear"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

### Статус

Свойство `status` задаёт визуальное выделение поля: `''`, `'alert'`, `'success'`, `'warning'` (по умолчанию `''`).

<MdxTabs>

<ComboboxExampleStatus />

```tsx
<Combobox
  placeholder="default"
  caption="default"
  size="s"
  items={items}
  value={value}
  onChange={setValue}
/>
<Combobox
  placeholder="alert"
  caption="alert"
  status="alert"
  size="s"
  items={items}
  value={value}
  onChange={setValue}
/>
<Combobox
  placeholder="warning"
  caption="warning"
  status="warning"
  size="s"
  items={items}
  value={value}
  onChange={setValue}
/>
<Combobox
  placeholder="success"
  caption="success"
  size="s"
  status="success"
  items={items}
  value={value}
  onChange={setValue}
/>
```

</MdxTabs>

## Поведение

### Поиск

Компонент поддерживает поиск по `label` элементов. Для кастомного поиска используйте `searchFunction`. Свойство `onSearchValueChange` возвращает введённое значение. Текст "Не найдено" можно изменить через `labelForNotFound`.

<MdxTabs>

<ComboboxExampleOnSearchValueChange />

```tsx
<Text view="primary" size="l" lineHeight="m">
  Значение поиска: {search ?? 'Пусто'}
</Text>
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onSearchValueChange={setSearch}
  onChange={setValue}
/>
```

</MdxTabs>

### Создание новых вариантов

Свойство `onCreate` позволяет добавлять новые элементы в список. Текст кнопки создания задаётся через `labelForCreate`.

<MdxTabs>

<ComboboxExampleCreate />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={list}
  value={value}
  onChange={setValue}
  onCreate={(label) =>
    setList([{ label, id: `${label}_${list.length + 1}` }, ...list])
  }
/>
```

</MdxTabs>

### Выбор всех элементов

Свойство `selectAll` добавляет возможность выбрать все элементы. Текст пункта выбора задаётся через `allSelectedAllLabel`.

<MdxInformer status="success">

Для переопределения текста используйте `allSelectedAllLabel`.

</MdxInformer>

<MdxTabs>

<ComboboxExampleSelectAll />

```tsx
<Combobox
  placeholder="Выберите варианты"
  items={items}
  value={value}
  multiple
  selectAll
  allSelectedAllLabel="Выбрать все"
  onChange={setValue}
  groups={groups}
/>
```

</MdxTabs>

### Виртуализация списка

Свойство `virtualScroll` оптимизирует отображение больших списков.

<MdxTabs>

<ComboboxExampleVirtualScroll />

```tsx
<Combobox
  placeholder="Чтобы посмотреть весь список, прокрутите вниз"
  items={items}
  value={value}
  onChange={setValue}
  groups={groups}
  multiple
  selectAll
  virtualScroll
/>
```

</MdxTabs>

### Индикация загрузки

Свойство `isLoading` включает индикатор загрузки. Для дозагрузки данных при прокрутке используйте `onScrollToBottom`.

<MdxTabs>

<ComboboxExampleIsLoading />

```tsx
<Combobox
  placeholder="Кликните по полю ввода, чтобы данные загрузились"
  items={data}
  value={value}
  onChange={setValue}
  multiple
  onDropdownOpen={onDropdownOpen}
  isLoading={isLoading}
  virtualScroll
/>
```

</MdxTabs>

<MdxTabs>

<ComboboxExampleIsLoadingOnScrollBottom />

```tsx
<Combobox
  placeholder="Кликните по полю ввода, чтобы данные загрузились"
  items={data}
  value={value}
  onChange={setValue}
  multiple
  isLoading={isLoading}
  virtualScroll
  onScrollToBottom={searchValue ? undefined : load}
  searchFunction={() => true}
  onSearchValueChange={setSearchValue}
/>
```

</MdxTabs>

### Неактивный компонент

Свойство `disabled` отключает весь компонент.

<MdxTabs>

<ComboboxExampleDisabled />

```tsx
<Combobox
  placeholder="Здесь не получится ничего выбрать"
  items={items}
  value={value}
  onChange={setValue}
  disabled
/>
```

</MdxTabs>

### Управление выпадающим списком

- `dropdownOpen` — управляет состоянием списка (открыт/закрыт).
- `onDropdownOpen` — обработчик открытия/закрытия.
- `ignoreOutsideClicksRefs` — ссылки на элементы, игнорируемые при кликах вне компонента.

<MdxTabs>

<ComboboxExampleDropdownOpen />

```tsx
<FieldGroup>
  <Button
    ref={buttonRef}
    label={open ? 'Закрыть' : 'Открыть'}
    onClick={setOpen.toggle}
    iconLeft={Icon}
    onlyIcon
  />
  <Combobox
    inputRef={inputRef}
    placeholder="Выберите вариант"
    items={items}
    value={value}
    onChange={setValue}
    dropdownOpen={open}
    onDropdownOpen={onDropdownOpen}
    ignoreOutsideClicksRefs={[buttonRef]}
  />
</FieldGroup>
```

</MdxTabs>

<MdxTabs>

<ComboboxExampleOpenByFocus />

```tsx
<Button onClick={handleFocus} label="Эмулировать фокус на элемент" />
<Combobox
  inputRef={inputRef}
  items={items}
  value={value}
  onChange={setValue}
  placeholder="Выберите элемент"
  dropdownOpen={isOpened}
  onDropdownOpen={setIsOpened.set}
  onFocus={setIsOpened.on}
/>
```

</MdxTabs>

## Кастомизация

### Кастомный элемент списка

Свойство `renderItem` позволяет кастомизировать отображение элементов списка.

<MdxTabs>

<ComboboxExampleRenderItem />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
  searchFunction={searchFunction}
  renderItem={({ item, active, hovered, onClick, onMouseEnter, ref }) => (
    <div
      className={cnComboboxExampleRenderItem('Item', { active, hovered })}
      aria-selected={active}
      aria-hidden="true"
      onMouseEnter={onMouseEnter}
      onClick={onClick}
      ref={ref}
    >
      {item.label}
      {item.status && (
        <Badge
          className={cnComboboxExampleRenderItem('Badge')}
          as="span"
          size="s"
          label={mapLabel[item.status]}
          status={mapStatus[item.status]}
        />
      )}
    </div>
  )}
/>
```

</MdxTabs>

### Кастомное выбранное значение

Свойство `renderValue` задаёт кастомное отображение выбранного значения.

<MdxTabs>

<ComboboxExampleRenderValue />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
  renderValue={({ item }) => (
    <div>
      <span role="img" aria-label="Panda">
        🐼
      </span>{' '}
      — {item.label}
    </div>
  )}
/>
```

</MdxTabs>

### Кастомные типы данных

Для кастомных типов данных используйте геттеры: `getItemLabel`, `getItemKey`, `getItemGroupKey`, `getItemDisabled`, `getGroupLabel`, `getGroupKey`.

<MdxTabs>

<ComboboxExampleCustomTypes />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={['Первый', 'Второй', 'Третий']}
  value={value}
  onChange={setValue}
  getItemKey={(item) => item}
  getItemLabel={(item) => item}
/>
```

</MdxTabs>

<MdxTabs>

<ComboboxExampleCustomTypesWithGroups />

```tsx
<Combobox
  placeholder="Выберите вариант"
  items={items}
  groups={groups}
  value={value}
  onChange={setValue}
  getItemKey={(item) => item.name}
  getItemLabel={(item) => item.name}
  getItemGroupKey={(item) => item.group}
  getGroupKey={(group: string) => group}
  getGroupLabel={(group: string) => group}
/>
```

</MdxTabs>

## Контролируемое значение поля ввода

Свойство `searchValue` позволяет программно управлять значением поля ввода.

<MdxTabs>

<ComboboxExampleSearchValue />

```tsx
<Combobox
  className={cnMixSpace({ mB: 'm' })}
  placeholder="Выберите вариант"
  items={items}
  value={value}
  onChange={setValue}
  searchValue={searchValue}
  onSearchValueChange={setSearchValue}
  multiple
/>
<Button
  className={cnMixSpace({ mR: 'm' })}
  label="Второй"
  onClick={() => setSearchValue('Второй')}
/>
<Button
  className={cnMixSpace({ mR: 'm' })}
  label="Первый"
  onClick={() => setSearchValue('Первый')}
/>
<Button label="Очистить" onClick={() => setSearchValue(undefined)} />
```

</MdxTabs>

## Пример использования

```tsx
import React, { useState } from 'react';
import { Combobox } from '@consta/uikit/Combobox';

type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  { label: 'Первый', id: 1 },
  { label: 'Второй', id: 2 },
  { label: 'Третий', id: 3 },
];

const App = () => {
  const [value, setValue] = useState<Item | null>(null);

  return (
    <Combobox
      placeholder="Выберите вариант"
      items={items}
      value={value}
      onChange={setValue}
    />
  );
};
```
