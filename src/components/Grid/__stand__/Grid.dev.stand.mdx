import { MdxMenu, MdxTabs } from '@consta/stand';

import { GridExampleCols } from './examples/GridExampleCols/GridExampleCols';
import { GridExampleAlign } from './examples/GridExampleAlign/GridExampleAlign';
import {
  GridExampleBreakpoints,
  GridExampleBreakpointsForRef,
} from './examples/GridExampleBreakpoints/GridExampleBreakpoints';
import { GridItemExampleCol } from './examples/GridItemExampleCol/GridItemExampleCol';
import { GridItemExampleColStart } from './examples/GridItemExampleColStart/GridItemExampleColStart';
import { GridItemExampleRow } from './examples/GridItemExampleRow/GridItemExampleRow';
import { GridItemExampleRowStart } from './examples/GridItemExampleRowStart/GridItemExampleRowStart';
import { GridItemExampleOrder } from './examples/GridItemExampleOrder/GridItemExampleOrder';
import { GridItemExampleBreakpoints } from './examples/GridItemExampleBreakpoints/GridItemExampleBreakpoints';
import {
  GridExampleGap,
  GridExampleColGap,
  GridExampleRowGap,
} from './examples/GridExampleGap/GridExampleGap';

<MdxMenu>

- [Обзор](#обзор)
- [Импорт](#импорт)
- [Свойства Grid](#свойства-grid)
  - [Колонки](#колонки)
  - [Отступы](#отступы)
  - [Выравнивание внутри ячеек](#выравнивание-внутри-ячеек)
  - [Контрольные точки](#контрольные-точки-для-сетки)
- [Свойства GridItem](#свойства-griditem)
  - [Количество колонок](#количество-колонок)
  - [Начальная колонка](#начальная-колонка)
  - [Количество строк](#количество-строк)
  - [Начальная строка](#начальная-строка)
  - [Порядок элементов](#порядок-элементов)
  - [Контрольные точки](#контрольные-точки-для-элемента-сетки)
- [Пример использования](#пример-использования)

</MdxMenu>

## Обзор

Компоненты `Grid` и `GridItem` предназначены для создания адаптивных сеток. `Grid` задаёт структуру сетки (количество колонок, отступы, выравнивание), а `GridItem` определяет поведение отдельных элементов внутри неё. Сетка работает по принципу **Mobile First**, то есть стили и параметры применяются от меньшего разрешения экрана к большему.

## Импорт

```tsx
import { Grid, GridItem } from '@consta/uikit/Grid';
```

## Свойства Grid

| Свойство                                             | Тип                             | По умолчанию | Описание                                                         |
| ---------------------------------------------------- | ------------------------------- | ------------ | ---------------------------------------------------------------- |
| [`cols?`](#колонки)                                  | `number`                        | -            | Количество колонок                                               |
| [`gap?`](#отступы)                                   | `Gap`                           | -            | Размер отступов между колонками и строками                       |
| [`colGap?`](#отступы)                                | `Gap`                           | -            | Размер отступов между колонками                                  |
| [`rowGap?`](#отступы)                                | `Gap`                           | -            | Размер отступов между строками                                   |
| [`xAlign?`](#выравнивание-внутри-ячеек)              | `'left' \| 'center' \| 'right'` | -            | Выравнивание по горизонтали                                      |
| [`yAlign?`](#выравнивание-внутри-ячеек)              | `'top' \| 'center' \| 'bottom'` | -            | Выравнивание по вертикали                                        |
| [`breakpoints?`](#контрольные-точки-для-сетки)       | `Breakpoints`                   | -            | Контрольные точки (breakpoints)                                  |
| [`breakpointsForRef?`](#контрольные-точки-для-сетки) | `React.RefObject<HTMLElement>`  | -            | Элемент для расчета контрольных точек                            |
| `className?`                                         | `string`                        | -            | Дополнительный CSS-класс                                         |
| `as?`                                                | `React.ElementType`             | `'div'`      | HTML-тег, в виде которого этот компонент будет представлен в DOM |
| `ref?`                                               | `React.Ref<HTMLDivElement>`     | -            | Ссылка на DOM-элемент компонента                                 |

```tsx
type Gap =
  | 0
  | '2xs'
  | 'xs'
  | 's'
  | 'm'
  | 'l'
  | 'xl'
  | '2xl'
  | '3xl'
  | '4xl'
  | '5xl'
  | '6xl';

type XAlign = 'left' | 'center' | 'right';

type YAlign = 'top' | 'center' | 'bottom';

type Breakpoint = {
  cols?: Cols;
  gap?: Gap;
  colGap?: Gap;
  rowGap?: Gap;
  xAlign?: XAlign;
  yAlign?: YAlign;
};

type Breakpoints = Record<number, Breakpoint>;
```

### Колонки

Свойство `cols` определяет количество колонок в сетке. Например, `cols={2}` создаёт сетку с двумя колонками.

<MdxTabs>

<GridExampleCols />

```tsx
<Grid cols={2}>
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

### Отступы

Отступы в сетке задаются с помощью свойств:

- `gap` — общий отступ между строками и колонками.
- `colGap` — отступы между колонками.
- `rowGap` — отступы между строками.

Свойства `colGap` и `rowGap` имеют приоритет над `gap`. Возможные значения: `0`, `'2xs'`, `'xs'`, `'s'`, `'m'`, `'l'`, `'xl'`, `'2xl'`, `'3xl'`, `'4xl'`, `'5xl'`, `'6xl'`.

<MdxTabs>

<GridExampleGap />

```tsx
<Grid gap="xl" cols={2}>
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

<MdxTabs>

<GridExampleColGap />

```tsx
<Grid colGap="xl" cols={2}>
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

<MdxTabs>

<GridExampleRowGap />

```tsx
<Grid rowGap="xl" cols={2}>
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

### Выравнивание внутри ячеек

Свойства `xAlign` и `yAlign` задают выравнивание содержимого ячеек:

- `xAlign` — выравнивание по горизонтали: `'left'`, `'center'`, `'right'`.
- `yAlign` — выравнивание по вертикали: `'top'`, `'center'`, `'bottom'`.

<MdxTabs>

<GridExampleAlign />

```tsx
<Grid cols={2} gap="xl" xAlign="center" yAlign="center">
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

### Контрольные точки для сетки

Свойство `breakpoints` позволяет задавать параметры сетки в зависимости от ширины экрана. Например, можно менять количество колонок или отступы для разных разрешений. Свойство `breakpointsForRef` указывает элемент, от которого рассчитываются контрольные точки.

<MdxTabs>

<GridExampleBreakpoints />

```tsx
<Grid
  cols={1}
  gap="xl"
  breakpoints={{
    480: {
      cols: 2,
    },
    800: {
      cols: 4,
      gap: '2xl',
    },
  }}
>
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
</Grid>
```

</MdxTabs>

<MdxTabs>

<GridExampleBreakpointsForRef />

```tsx
const ref = useRef<HTMLDivElement>(null);

return (
  <Grid
    cols={1}
    gap="xl"
    breakpointsForRef={ref}
    breakpoints={{
      480: {
        cols: 2,
      },
      640: {
        cols: 4,
      },
    }}
    ref={ref}
  >
    <GridItem
      col={1}
      breakpointsForRef={ref}
      breakpoints={{
        480: {
          col: 2,
        },
      }}
    >
      <Grid cols={1} gap="xl">
        <GridItem>1</GridItem>
        <GridItem>2</GridItem>
      </Grid>
    </GridItem>
    <GridItem>3</GridItem>
    <GridItem>4</GridItem>
  </Grid>
);
```

</MdxTabs>

## Свойства GridItem

| Свойство                                                | Тип                            | По умолчанию | Описание                                                                                  |
| ------------------------------------------------------- | ------------------------------ | ------------ | ----------------------------------------------------------------------------------------- |
| [`col?`](#количество-колонок)                           | `number`                       | -            | Количество колонок, которое занимает элемент                                              |
| [`colStart?`](#начальная-колонка)                       | `number`                       | -            | Сдвиг элемента в нужную колонку                                                           |
| [`row?`](#количество-строк)                             | `number`                       | -            | Количество строк, которое занимает элемент                                                |
| [`rowStart?`](#начальная-строка)                        | `number`                       | -            | Сдвиг элемента в нужную строку                                                            |
| [`order?`](#порядок-элементов)                          | `0 \| 1 \| -1`                 | -            | Порядок элементов относительно друг друга, можно сдвинуть в начало или в конец (-1, 0, 1) |
| [`breakpoints?`](#контрольные-точки-для-элемента-сетки) | `Breakpoints`                  | -            | Контрольные точки (breakpoints)                                                           |
| [`breakpointsForRef?`](#контрольные-точки-для-сетки)    | `React.RefObject<HTMLElement>` | -            | Элемент для расчета контрольных точек                                                     |
| `className?`                                            | `string`                       | -            | Дополнительный CSS-класс                                                                  |
| `as?`                                                   | `React.ElementType`            | `'div'`      | HTML-тег, в виде которого этот компонент будет представлен в DOM                          |
| `ref?`                                                  | `React.Ref<HTMLDivElement>`    | -            | Ссылка на DOM-элемент компонента                                                          |

```tsx
type Breakpoint = {
  col?: number;
  colStart?: number;
  row?: number;
  rowStart?: number;
  order?: 0 | 1 | -1;
};

type Breakpoints = Record<number, Breakpoint>;
```

### Количество колонок

Свойство `col` задаёт количество колонок, которое занимает элемент сетки.

<MdxTabs>

<GridItemExampleCol />

```tsx
<Grid cols={2} gap="xl">
  <GridItem col={2}>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem col={2}>4</GridItem>
  <GridItem>5</GridItem>
  <GridItem col={3}>6</GridItem>
</Grid>
```

</MdxTabs>

### Начальная колонка

Свойство `colStart` смещает элемент в указанную колонку.

<MdxTabs>

<GridItemExampleColStart />

```tsx
<Grid cols={3} gap="xl">
  <GridItem>1</GridItem>
  <GridItem colStart="3">2</GridItem>
  <GridItem>3</GridItem>
  <GridItem colStart="3">4</GridItem>
</Grid>
```

</MdxTabs>

### Количество строк

Свойство `row` задаёт количество строк, которое занимает элемент.

<MdxTabs>

<GridItemExampleRow />

```tsx
<Grid cols={2} gap="xl">
  <GridItem>1</GridItem>
  <GridItem row={3}>2</GridItem>
  <GridItem>3</GridItem>
  <GridItem>4</GridItem>
  <GridItem>5</GridItem>
  <GridItem>6</GridItem>
</Grid>
```

</MdxTabs>

### Начальная строка

Свойство `rowStart` смещает элемент в указанную строку.

<MdxTabs>

<GridItemExampleRowStart />

```tsx
<Grid cols={2} gap="xl">
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem rowStart={3}>3</GridItem>
  <GridItem rowStart={3}>4</GridItem>
</Grid>
```

</MdxTabs>

### Порядок элементов

Свойство `order` изменяет порядок элементов в сетке:

- `-1` — перемещает элемент в начало.
- `0` — оставляет элемент на месте.
- `1` — перемещает элемент в конец.

<MdxTabs>

<GridItemExampleOrder />

```tsx
<Grid cols={3} gap="xl">
  <GridItem>1</GridItem>
  <GridItem>2</GridItem>
  <GridItem order={1}>3</GridItem>
  <GridItem>4</GridItem>
  <GridItem order={-1}>5</GridItem>
  <GridItem>6</GridItem>
</Grid>
```

</MdxTabs>

### Контрольные точки для элемента сетки

Свойство `breakpoints` задаёт параметры элемента сетки в зависимости от ширины экрана или элемента, указанного в `breakpointsForRef`.

<MdxTabs>

<GridItemExampleBreakpoints />

```tsx
<Grid cols={3} gap="xl">
  <GridItem
    style={{ background: 'rgb(87, 188, 255)' }} // синяя ячейка
    row={1}
    breakpoints={{
      800: {
        row: 3,
      },
    }}
  >
    1
  </GridItem>
  <GridItem>2</GridItem>
  <GridItem
    style={{ background: '#36acaa' }} // зелёная ячейка
    order={-1}
    row={3}
    breakpoints={{
      800: {
        order: 0,
        row: 1,
      },
    }}
  >
    3
  </GridItem>
  <GridItem>4</GridItem>
  <GridItem>5</GridItem>
  <GridItem>6</GridItem>
  <GridItem>7</GridItem>
</Grid>
```

</MdxTabs>

## Пример использования

Пример демонстрирует создание сетки с двумя колонками, отступами и адаптивным поведением:

```tsx
<Grid
  cols={1}
  gap="xl"
  breakpoints={{
    480: {
      cols: 2,
    },
    800: {
      cols: 4,
      gap: '2xl',
    },
  }}
>
  <GridItem col={1} breakpoints={{ 480: { col: 2 } }}>
    <Grid cols={1} gap="xl">
      <GridItem>Вложенный элемент 1</GridItem>
      <GridItem>Вложенный элемент 2</GridItem>
    </Grid>
  </GridItem>
  <GridItem>Элемент 2</GridItem>
  <GridItem>Элемент 3</GridItem>
  <GridItem>Элемент 4</GridItem>
</Grid>
```
