import { MdxMenu, MdxInformer, MdxTabs } from '@consta/stand';
import { SliderExampleBasic } from './examples/SliderExampleBasic/SliderExampleBasic';
import {
  SliderExampleViewDefault,
  SliderExampleViewDivision,
} from './examples/SliderExampleView/SliderExampleView';
import { SliderExampleRange } from './examples/SliderExampleRange/SliderExampleRange';
import {
  SliderExampleStepSingle,
  SliderExampleStepArray,
} from './examples/SliderExampleStep/SliderExampleStep';
import { SliderExampleTooltip } from './examples/SliderExampleTooltip/SliderExampleTooltip';
import { SliderExampleTooltipFormatter } from './examples/SliderExampleTooltipFormatter/SliderExampleTooltipFormatter';
import {
  SliderExampleLabel,
  SliderExampleLabelIcon,
} from './examples/SliderExampleLabel/SliderExampleLabel';
import { SliderExampleDisabled } from './examples/SliderExampleDisabled/SliderExampleDisabled';
import {
  SliderExampleContent,
  SliderExampleContentInputLeftAndRight,
} from './examples/SliderExampleContent/SliderExampleContent';
import { SliderExampleSize } from './examples/SliderExampleSize/SliderExampleSize';
import { SliderExampleStatus } from './examples/SliderExampleStatus/SliderExampleStatus';
import { SliderExampleMinMax } from './examples/SliderExampleMinMax/SliderExampleMinMax';

<MdxMenu>

- [Обзор](#обзор)
- [Импорт](#импорт)
- [Свойства](#свойства)
- [Содержимое](#содержимое)
  - [Одно значение или диапазон](#одно-значение-или-диапазон)
  - [Минимальное и максимальное значения](#минимальное-и-максимальное-значения)
  - [Ограничение значений](#ограничение-значений)
- [Внешний вид](#внешний-вид)
  - [Тип линии](#тип-линии)
  - [Размер](#размер)
  - [Статус](#статус)
- [Тексты](#тексты)
  - [Лейбл и подпись](#лейбл-и-подпись)
  - [Тултип](#тултип)
- [Поведение](#поведение)
  - [Неактивный ползунок](#неактивный-ползунок)
  - [Иконка и поле ввода](#иконка-и-поле-ввода)

</MdxMenu>

## Обзор

Компонент `Slider` позволяет пользователю выбирать значение или диапазон значений, перемещая ползунок по шкале. Используется для настройки числовых параметров, таких как громкость, яркость или фильтры данных. Поддерживает настройку шага, минимального и максимального значений, а также отображение тултипов, лейблов и дополнительных элементов.

## Импорт

```tsx
import { Slider } from '@consta/uikit/Slider';
```

## Свойства

| Свойство                                        | Тип или варианты значения                                                 | По умолчанию | Описание                                        |
| ----------------------------------------------- | ------------------------------------------------------------------------- | ------------ | ----------------------------------------------- |
| [`value?`](#одно-значение-или-диапазон)         | `SliderValue<RANGE>`                                                      | -            | Значение или массив значений                    |
| [`range?`](#одно-значение-или-диапазон)         | `boolean`                                                                 | -            | Выбор диапазона                                 |
| [`min?`](#минимальное-и-максимальное-значения)  | `number`                                                                  | `0`          | Минимальное значение                            |
| [`max?`](#минимальное-и-максимальное-значения)  | `number`                                                                  | `100`        | Максимальное значение                           |
| [`step?`](#ограничение-значений)                | `number` \| `number[]`                                                    | `1`          | Шаг для перемещения ползунка или набор значений |
| [`view?`](#тип-линии)                           | `'default'` \| `'division'`                                               | `'default'`  | Внешний вид линии                               |
| [`size?`](#размер)                              | `'xs'` \| `'s'` \| `'m'` \| `'l'`                                         | `'m'`        | Размер компонента                               |
| [`status?`](#статус)                            | `''` \| `'alert'` \| `'success'` \| `'warning'`                           | -            | Статус поля                                     |
| [`label?`](#лейбл-и-подпись)                    | `string`                                                                  | -            | Лейбл                                           |
| [`labelIcon?`](#лейбл-и-подпись)                | `IconComponent`                                                           | -            | Иконка слева от лейбла                          |
| [`caption?`](#лейбл-и-подпись)                  | `string`                                                                  | -            | Подпись                                         |
| [`withTooltip?`](#тултип)                       | `boolean`                                                                 | -            | Показывать тултип                               |
| [`tooltipFormatter?`](#тултип)                  | `SliderPropTooltipFormatter`                                              | -            | Форматирование текста в тултипе                 |
| [`leftSide?`](#иконка-и-поле-ввода)             | `'input'` \| `IconComponent`                                              | -            | Элемент слева от компонента                     |
| [`rightSide?`](#иконка-и-поле-ввода)            | `'input'` \| `IconComponent`                                              | -            | Элемент справа от компонента                    |
| [`disabled?`](#неактивный-ползунок)             | `boolean`                                                                 | `false`      | Делает компонент неактивным                     |
| [`onChange?`](#одно-значение-или-диапазон)      | `SliderPropOnChange<RANGE>`                                               | -            | Обработчик изменения значения                   |
| [`onAfterChange?`](#одно-значение-или-диапазон) | `SliderPropOnChange<RANGE>`                                               | -            | Обработчик процесса изменения значения          |
| [`tooltipDirection?`](#тултип)                  | [`Direction`](##LIBS.LIB.STAND/lib:uikit/stand:components-popover-stable) | -            | Позиция тултипа                                 |
| [`tooltipPossibleDirections?`](#тултип)         | [`Direction`](##LIBS.LIB.STAND/lib:uikit/stand:components-popover-stable) | -            | Возможные позиции тултипа                       |
| `className?`                                    | `string`                                                                  | -            | Дополнительный CSS-класс                        |

```tsx
export type SliderValue<RANGE> = RANGE extends true ? [number, number] : number;

export type SliderPropOnChange<RANGE> = (
  value: SliderValue<RANGE>,
  prop: {
    e?: Event | React.TouchEvent | React.MouseEvent | React.KeyboardEvent;
  },
) => void;

type SliderPropTooltipFormatter = (value: number | undefined) => string;
```

## Содержимое

### Одно значение или диапазон

Свойство `value` задаёт текущее значение ползунка. Для выбора одного значения передайте число:

<MdxTabs>

<SliderExampleBasic />

```tsx
export const SliderExampleBasic = () => {
  const [value, setValue] = useState<number>(20);

  return (
    <Slider label={`Значение ${value}`} onChange={setValue} value={value} />
  );
};
```

</MdxTabs>

Для выбора диапазона укажите `range={true}` и передайте массив из двух чисел в `value`:

<MdxTabs>

<SliderExampleRange />

```tsx
export const SliderExampleViewRange = () => {
  const [value, setValue] = useState<number[]>([20, 50]);

  return (
    <Slider
      step={5}
      label={`Значение ${value[0]}-${value[1]}`}
      onChange={setValue}
      value={value}
    />
  );
};
```

</MdxTabs>

<MdxInformer status="normal">

Для обработки значения в момент перемещения ползунка используйте `onAfterChange`.

</MdxInformer>

Свойство `onChange` позволяет отслеживать изменение значения, а `onAfterChange` — фиксировать значение после завершения перемещения.

### Минимальное и максимальное значения

Свойства `min` и `max` задают границы значений ползунка. По умолчанию: `min=0`, `max=100`. Если `min` больше `max`, используются значения по умолчанию.

<MdxTabs>

<SliderExampleMinMax />

```tsx
export const SliderExampleMinMax = () => {
  const [value, setValue] = useState<number>(50);

  return (
    <Slider
      label={`Значение ${value}`}
      onChange={setValue}
      value={value}
      range={false}
      min={20}
      max={70}
    />
  );
};
```

</MdxTabs>

### Ограничение значений

Свойство `step` ограничивает значения, которые может выбрать пользователь.

#### Шаг для ползунка

Передайте в `step` целое число, чтобы задать шаг перемещения. Пользователь сможет выбирать значения, кратные шагу (например, при `step={10}`: 0, 10, 20 и т.д.).

<MdxTabs>

<SliderExampleStepSingle />

```tsx
export const SliderExampleStepSingle = () => {
  const [value, setValue] = useState<number>(20);

  return (
    <Slider
      view="division"
      step={10}
      label={`Значение ${value}`}
      onChange={setValue}
      value={value}
    />
  );
};
```

</MdxTabs>

#### Набор значений

Передайте в `step` массив чисел, чтобы ограничить выбор конкретными значениями.

<MdxTabs>

<SliderExampleStepArray />

```tsx
export const SliderExampleStepArray = () => {
  const [value, setValue] = useState<number>(20);

  return (
    <Slider
      view="division"
      step={[15, 40, 70]}
      label={`Значение ${value}`}
      onChange={setValue}
      value={value}
    />
  );
};
```

</MdxTabs>

## Внешний вид

### Тип линии

Свойство `view` определяет внешний вид линии ползунка:

- `'default'` — сплошная линия.
- `'division'` — прерывистая линия, отображающая доступные значения.

<MdxTabs>

<SliderExampleViewDefault />

```tsx
<Slider
  view="default"
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

<MdxTabs>

<SliderExampleViewDivision />

```tsx
<Slider
  view="division"
  step={10}
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

### Размер

Свойство `size` задаёт размер компонента: `'xs'`, `'s'`, `'m'`, `'l'`. По умолчанию — `'m'`.

<MdxTabs>

<SliderExampleSize />

```tsx
<Slider
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
  size="xs"
/>
<Slider
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
  size="s"
/>
<Slider
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
  size="m"
/>
<Slider
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
  size="l"
/>
```

</MdxTabs>

### Статус

Свойство `status` задаёт статус подписи: `'alert'`, `'warning'`, `'success'`. Влияет только на подпись (`caption`), если она указана.

<MdxTabs>

<SliderExampleStatus />

```tsx
<Slider
  label={`Значение ${value}`}
  caption="Статус alert"
  onChange={setValue}
  value={value}
  status="alert"
/>
<Slider
  label={`Значение ${value}`}
  caption="Статус warning"
  onChange={setValue}
  value={value}
  status="warning"
/>
<Slider
  label={`Значение ${value}`}
  caption="Статус success"
  onChange={setValue}
  value={value}
  status="success"
/>
<Slider
  label={`Значение ${value}`}
  caption="Обычный ползунок"
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

## Тексты

### Лейбл и подпись

Свойство `label` добавляет заголовок над ползунком, а `caption` — подпись под ним. Свойство `labelIcon` позволяет добавить иконку слева от лейбла.

<MdxTabs>

<SliderExampleLabel />

```tsx
<Slider
  step={5}
  range
  label="Пример"
  caption="Выберите значения"
  status="success"
  withTooltip
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

<MdxTabs>

<SliderExampleLabelIcon />

```tsx
<Slider
  step={5}
  range
  label="Пример"
  labelIcon={IconQuestion}
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

### Тултип

Свойство `withTooltip` включает отображение тултипа с текущим значением при наведении на ползунок. Свойство `tooltipFormatter` позволяет настроить форматирование текста в тултипе.

<MdxTabs>

<SliderExampleTooltip />

```tsx
<Slider
  step={5}
  range
  label={`Значение ${value[0]}-${value[1]}`}
  onChange={setValue}
  value={value}
  withTooltip
/>
```

</MdxTabs>

<MdxTabs>

<SliderExampleTooltipFormatter />

```tsx
<Slider
  step={5}
  range
  label={`Значение ${value[0]}-${value[1]}`}
  tooltipFormatter={(value) => `${value}%`}
  onChange={setValue}
  value={value}
  withTooltip
/>
```

</MdxTabs>

Свойства `tooltipDirection` и `tooltipPossibleDirections` задают позицию и возможные направления тултипа (см. [Direction](##LIBS.LIB.STAND/lib:uikit/stand:components-popover-stable)).

## Поведение

### Неактивный ползунок

Свойство `disabled` делает ползунок неактивным, блокируя взаимодействие.

<MdxTabs>

<SliderExampleDisabled />

```tsx
<Slider
  disabled
  label={`Значение ${value}`}
  onChange={setValue}
  value={value}
/>
```

</MdxTabs>

### Иконка и поле ввода

Свойства `leftSide` и `rightSide` позволяют добавить иконку или поле ввода (`'input'`) слева или справа от ползунка. Поле ввода синхронизируется с ползунком при потере фокуса.

<MdxTabs>

<SliderExampleContent />

```tsx
<Slider
  value={value}
  label={`Значение ${value}`}
  withTooltip
  step={5}
  view="division"
  leftSide="input"
  rightSide={IconSettings}
  onChange={setValue}
/>
```

</MdxTabs>

Для диапазона (`range={true}`) можно использовать поля ввода с обеих сторон:

<MdxTabs>

<SliderExampleContentInputLeftAndRight />

```tsx
<Slider
  step={5}
  range
  label={`Значение ${value[0]}-${value[1]}`}
  view="division"
  onChange={setValue}
  value={value}
  leftSide="input"
  rightSide="input"
/>
```

</MdxTabs>

Иконки можно выбрать из [библиотеки иконок](##LIBS.LIB/lib:icons).
