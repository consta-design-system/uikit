import { MdxMenu } from '@consta/stand';
import { SpoilerExampleLabel } from './examples/SpoilerExampleLabel/SpoilerExampleLabel';
import { SpoilerExampleIcon } from './examples/SpoilerExampleIcon/SpoilerExampleIcon';
import { SpoilerExampleMode } from './examples/SpoilerExampleMode/SpoilerExampleMode';
import { SpoilerExampleSize } from './examples/SpoilerExampleSize/SpoilerExampleSize';
import { SpoilerExampleAlign } from './examples/SpoilerExampleAlign/SpoilerExampleAlign';
import { SpoilerExampleHiddenButton } from './examples/SpoilerExampleHiddenButton/SpoilerExampleHiddenButton';

```tsx
import { Spoiler } from '@consta/uikit/Spoiler';
```

<MdxMenu>

- [Внешний вид](#внешний-вид)
- [Кнопка](#кнопка)
  - [Лейбл](#лейбл)
  - [Иконка](#иконка)
  - [Выравнивание](#выравнивание)
- [Размер](#размер)
- [Состояние открыто-закрыто](#состояние)
- [Импорт](#импорт)
- [Список свойств](#свойства)

</MdxMenu>

## Внешний вид

Компонент имеет три модификации:

- Обрезает контент по высоте, нужно указать свойство `maxHeight` и `children`
- Обрезает контент по количеству строк, нужно указать `lineClamp` и `children`
- Переключает заранее подготовленные тексты, нужно указать `preview` и `content`

```tsx
<Spoiler maxHeight={96}>
  Проснувшись однажды утром после беспокойного сна, Грегор Белый
  обнаружил, что он у себя в постели превратился в страшное насекомое.
  Лежа на твердой спине, он видел, стоило ему приподнять голову,
  свой коричневый, выпуклый, разделенный дугообразными чешуйками живот, на
  верхушке которого еле держалось готовое вот-вот окончательно сползти
  одеяло. Его многочисленные, убого тонкие по сравнению с остальным телом
  ножки беспомощно копошились у него перед глазами. «Что со мной
  случилось?» – подумал он.
</Spoiler>
<Spoiler lineClamp={3}>
  Проснувшись однажды утром после беспокойного сна, Грегор Белый
  обнаружил, что он у себя в постели превратился в страшное насекомое.
  Лежа на твердой спине, он видел, стоило ему приподнять голову,
  свой коричневый, выпуклый, разделенный дугообразными чешуйками живот, на
  верхушке которого еле держалось готовое вот-вот окончательно сползти
  одеяло. Его многочисленные, убого тонкие по сравнению с остальным телом
  ножки беспомощно копошились у него перед глазами. «Что со мной
  случилось?» – подумал он.
</Spoiler>
<Spoiler
  content="Проснувшись однажды утром после беспокойного сна, Грегор Белый обнаружил, что он у себя в постели превратился в страшное насекомое. Лежа на твердой спине, он видел, стоило ему приподнять голову, свой коричневый, выпуклый, разделенный дугообразными чешуйками живот, на верхушке которого еле держалось готовое вот-вот окончательно сползти одеяло. Его многочисленные, убого тонкие по сравнению с остальным телом ножки беспомощно копошились у него перед глазами. «Что со мной случилось?» – подумал он."
  preview="Проснувшись однажды утром после беспокойного сна, Грегор Белый обнаружил, что он у себя в постели превратился в страшное насекомое. Лежа на твердой спине, он видел, стоило ему приподнять..."
/>
```

<SpoilerExampleMode />

## Кнопка

> Кнопка будет отображаться, если высота обрезанного текста меньше, чем высота полного текста.
> Это правило работает во всех модификациях.

```tsx
export const SpoilerExampleHiddenButton = () => {
  const [lineClamp, setLineClamp] = useState(4);
  const onChange: TextFieldPropOnChange = useCallback(
    ({ value }) => setLineClamp(Number(value)),
    [],
  );
  return (
    <Example col={1}>
      <TextField
        type="number"
        label="Максимальное количество строк"
        value={lineClamp.toString()}
        onChange={onChange}
      />
      <Spoiler lineClamp={lineClamp}>
        Проснувшись однажды утром после беспокойного сна, Грегор Белый
        обнаружил, что он у себя в постели превратился в страшное насекомое.
        Лежа на твердой спине, он видел, стоило ему приподнять голову, свой
        коричневый, выпуклый, разделенный дугообразными чешуйками живот, на
        верхушке которого еле держалось готовое вот-вот окончательно сползти
        одеяло. Его многочисленные, убого тонкие по сравнению с остальным телом
        ножки беспомощно копошились у него перед глазами. «Что со мной
        случилось?» – подумал он.
      </Spoiler>
      <Spoiler lineClamp={lineClamp}>
        Проснувшись однажды утром после беспокойного сна, Грегор Белый
        обнаружил, что он у себя в постели превратился в страшное насекомое.
        Лежа на твердой спине, он видел, стоило ему приподнять голову, свой
        коричневый, выпуклый, разделенный дугообразными чешуйками живот.
      </Spoiler>
    </Example>
  );
};
```

<SpoilerExampleHiddenButton />

### Лейбл

Лейбл к компоненту можно указать через свойства `moreLabel` и `lessLabel`, для раскрытия и скрытия содержимого соответственно.

```tsx
<Spoiler lessLabel="Скрыть" moreLabel="Показать">
  Проснувшись однажды утром после беспокойного сна, Грегор Белый обнаружил, что
  он у себя в постели превратился в страшное насекомое. Лежа на твердой спине,
  он видел, стоило ему приподнять голову, свой коричневый, выпуклый, разделенный
  дугообразными чешуйками живот, на верхушке которого еле держалось готовое
  вот-вот окончательно сползти одеяло. Его многочисленные, убого тонкие по
  сравнению с остальным телом ножки беспомощно копошились у него перед глазами.
  «Что со мной случилось?» – подумал он.
</Spoiler>
```

<SpoilerExampleLabel />

### Иконка

Для определения иконок используйте свойства `moreIcon` и `lessIcon`, для раскрытия и скрытия содержимого соответственно.

```tsx
<Spoiler lessIcon={IconRemove} moreIcon={IconQuestion}>
  Проснувшись однажды утром после беспокойного сна, Грегор Белый обнаружил, что
  он у себя в постели превратился в страшное насекомое. Лежа на твердой спине,
  он видел, стоило ему приподнять голову, свой коричневый, выпуклый, разделенный
  дугообразными чешуйками живот, на верхушке которого еле держалось готовое
  вот-вот окончательно сползти одеяло. Его многочисленные, убого тонкие по
  сравнению с остальным телом ножки беспомощно копошились у него перед глазами.
  «Что со мной случилось?» – подумал он.
</Spoiler>
```

<SpoilerExampleIcon />

### Выравнивание

Для выравнивания кнопки используйте свойство `buttonAlign`. Варианты: `'left'`, `'center'`, `'right'` , по умолчанию: `'left'`.

<SpoilerExampleAlign />

## Размер

За размер отвечает свойство `size`. Варианты: `'l'`, `'m'`, `'s'`, `'xs'`, по умолчанию: `'m'`.

<SpoilerExampleSize />

## Состояние открыто-закрыто

Состоянием компонента (открыт или закрыт) управляет свойство `opened`. По умолчанию: `false`, компонент закрыт.

## Импорт

```tsx
import { Spoiler } from '@consta/uikit/Spoiler';
```

## Свойства

| Свойство                        | Тип                                                                                                               | По умолчанию        | Описание                                                           |
| ------------------------------- | ----------------------------------------------------------------------------------------------------------------- | ------------------- | ------------------------------------------------------------------ |
| [`content?`](#внешний-вид)      | `React.ReactElement`                                                                                              | -                   | Контент в компоненте                                               |
| [`preview?`](#внешний-вид)      | `React.ReactElement`                                                                                              | -                   | Превью полного текста                                              |
| [`maxHeight?`](#внешний-вид)    | `number`                                                                                                          | -                   | Высота контейнера, если контент скрыт                              |
| [`lineClamp?`](#внешний-вид)    | `number`                                                                                                          | -                   | Количество строк, если контент скрыт                               |
| [`children?`](#внешний-вид)     | `React.ReactElement`                                                                                              | -                   | Контент компонента при вариации с блюром                           |
| [`lessLabel?`](#лейбл)          | `string`                                                                                                          | `'Показать меньше'` | Текст для раскрытия                                                |
| [`moreLabel?`](#лейбл)          | `string`                                                                                                          | `'Показать больше'` | Текст для скрытия                                                  |
| [`lessIcon?`](#иконка)          | `IconComponent`                                                                                                   | -                   | Иконка для раскрытия                                               |
| [`moreIcon?`](#иконка)          | `IconComponent`                                                                                                   | `IconArrowDown`     | Иконка для скрытия                                                 |
| [`size?`](#размер)              | `'l'`, `'m'`, `'s'`, `'xs'`                                                                                       | `'m'`               | Размер компонента                                                  |
| [`opened?`](#состояние)         | `boolean`                                                                                                         | `false`             | Открыт ли компонент                                                |
| [`buttonAlign?`](#выравнивание) | `'left'`, `'center'`, `'right'`                                                                                   | `'left'`            | Выравнивание кнопки                                                |
| `buttonIndent?`                 | `0`, `'auto'`, `'3xs'`, `'2xs'`, `'xs'`, `'s'`, `'m'`, `'l'`, `'xl'`, `'2xl'`, `'3xl'`, `'4xl'`, `'5xl'`, `'6xl'` | -                   | Отступ кнопки от контента, по умолчанию зависит от размера(`size`) |
| `as`                            | `React.ElementType`                                                                                               | `div`               | HTML-тег для кнопки                                                |
| `className?`                    | `string`                                                                                                          | -                   | Дополнительные CSS-классы                                          |
| `onOpenButtonClick?`            | `(open: boolean, event: React.MouseEvent) => void`                                                                | -                   | Срабатывает при клике на кнопку                                    |
