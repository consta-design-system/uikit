import { MdxMenu, MdxInformer, MdxTabs } from '@consta/stand';
import { TextFieldExampleStatus } from './examples/TextFieldExampleStatus/TextFieldExampleStatus';
import {
  TextFieldExampleTextPlaceholder,
  TextFieldExampleTextValue,
  TextFieldExampleTextLeft,
  TextFieldExampleTextRight,
} from './examples/TextFieldExampleText/TextFieldExampleText';
import {
  TextFieldExampleSize,
  TextFieldExampleSizeRows,
  TextFieldExampleSizeMinRows,
} from './examples/TextFieldExampleSize/TextFieldExampleSize';
import {
  TextFieldExampleView,
  TextFieldExampleViewDisabled,
} from './examples/TextFieldExampleView/TextFieldExampleView';
import {
  TextFieldExampleFormBasic,
  TextFieldExampleFormHybrid,
} from './examples/TextFieldExampleForm/TextFieldExampleForm';
import {
  TextFieldExampleLabel,
  TextFieldExampleLabelIcon,
} from './examples/TextFieldExampleLabel/TextFieldExampleLabel';
import { TextFieldExampleCaption } from './examples/TextFieldExampleCaption/TextFieldExampleCaption';
import {
  TextFieldExampleTypeText,
  TextFieldExampleTypeTextarea,
  TextFieldExampleTypeNumber,
  TextFieldExampleTypePassword,
} from './examples/TextFieldExampleType/TextFieldExampleType';
import { TextFieldExampleRequired } from './examples/TextFieldExampleRequired/TextFieldExampleRequired';
import { TextFieldExampleStepArray } from './examples/TextFieldExampleStepArray/TextFieldExampleStepArray';
import { TextFieldExampleIncrementButtons } from './examples/TextFieldExampleIncrementButtons/TextFieldExampleIncrementButtons';
import { TextFieldExampleWithClearButton } from './examples/TextFieldExampleWithClearButton/TextFieldExampleWithClearButton';
import {
  TextFieldExampleMaskAmount,
  TextFieldExampleMaskPhone,
  TextFieldExampleMaskPassport,
  TextFieldExampleMaskBankAccount,
  TextFieldExampleMaskSetValue,
} from './examples/TextFieldExampleMask/TextFieldExampleMask';

<MdxMenu>

- [Обзор](#обзор)
- [Импорт](#импорт)
- [Свойства](#свойства)
- [Содержимое](#содержимое)
  - [Тип поля](#тип-поля)
  - [Подсказка](#подсказка)
  - [Значение](#значение)
  - [Дополнительная информация](#дополнительная-информация)
  - [Лейбл](#лейбл)
  - [Подпись](#подпись)
  - [Шаг, набор значений и диапазон](#шаг-набор-значений-и-диапазон)
  - [Кнопка для очистки поля](#кнопка-для-очистки-поля)
- [Внешний вид](#внешний-вид)
  - [Вид](#вид)
  - [Статус](#статус)
  - [Форма](#форма)
- [Поведение](#поведение)
  - [Обязательность](#обязательность)
  - [Фокус](#фокус)
- [Размеры](#размеры)
  - [Размер поля](#размер-поля)
  - [Строки и колонки](#строки-и-колонки)
  - [Минимальная и максимальная высота](#минимальная-и-максимальная-высота)
- [Маскирование](#маскирование)
  - [Как работает useIMask](#как-работает-useimask)
  - [Примеры](#примеры)
    - [Сумма](#сумма)
    - [Телефон](#телефон)
    - [Паспорт](#паспорт)
    - [Банковский счет](#банковский-счет)
- [Пример использования](#пример-использования)

</MdxMenu>

## Обзор

Компонент `TextField` — это универсальное поле ввода, которое поддерживает различные типы данных, стили и настройки. Используется для ввода текста, чисел, паролей и других данных с возможностью добавления масок, подсказок, лейблов и других элементов оформления.

## Импорт

```tsx
import { TextField, useIMask } from '@consta/uikit/TextField';
```

## Свойства

| Свойство                                              | Тип                                                                                                                                                                                                             | По умолчанию | Описание                                                                                                                                     |
| ----------------------------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------ | -------------------------------------------------------------------------------------------------------------------------------------------- |
| [`type?`](#тип-поля)                                  | `'text'` \| `'textarea'` \| `'number'` \| `string`                                                                                                                                                              | `'text'`     | Тип поля (и тег для поля в DOM)                                                                                                              |
| [`value?`](#значение)                                 | `string` \| `null`                                                                                                                                                                                              | -            | Значение в поле                                                                                                                              |
| [`defaultValue?`](#значение)                          | `string` \| `null`                                                                                                                                                                                              | -            | Предустановленное значение в поле                                                                                                            |
| [`placeholder?`](#подсказка)                          | `string`                                                                                                                                                                                                        | -            | Подсказка внутри поля                                                                                                                        |
| [`leftSide?`](#дополнительная-информация)             | `IconComponent` \| `string`                                                                                                                                                                                     | -            | Иконка или текст слева, внутри поля                                                                                                          |
| [`rightSide?`](#дополнительная-информация)            | `IconComponent` \| `string`                                                                                                                                                                                     | -            | Иконка или текст справа, внутри поля. Не работает с `type='number'`                                                                          |
| [`label?`](#лейбл)                                    | `string`                                                                                                                                                                                                        | -            | Лейбл к полю ввода                                                                                                                           |
| [`labelIcon?`](#лейбл)                                | `IconComponent`                                                                                                                                                                                                 | -            | Иконка слева от лейбла                                                                                                                       |
| [`labelPosition?`](#лейбл)                            | `'top'` \| `'left'`                                                                                                                                                                                             | `'top'`      | Положение лейбла относительно поля                                                                                                           |
| [`caption?`](#подпись)                                | `string`                                                                                                                                                                                                        | -            | Подпись под полем ввода                                                                                                                      |
| [`step?`](#шаг-набор-значений-и-диапазон)             | `string` \| `number` \| `number[]`                                                                                                                                                                              | `1`          | Шаг, на который меняется число в поле по кнопкам-стрелочкам при `type='number'`                                                              |
| [`min?`](#шаг-набор-значений-и-диапазон)              | `number`                                                                                                                                                                                                        | `0`          | Нижняя граница диапазона значений, которые меняются по кнопкам-стрелочкам, в поле с `type='number'`                                          |
| [`max?`](#шаг-набор-значений-и-диапазон)              | `number`                                                                                                                                                                                                        | -            | Верхняя граница диапазона значений, которые меняются по кнопкам-стрелочкам, в поле с `type='number'`                                         |
| [`incrementButtons?`](#шаг-набор-значений-и-диапазон) | `boolean`                                                                                                                                                                                                       | `true`       | Отображать ли кнопки-стрелочки для `type='number'`                                                                                           |
| [`withClearButton?`](#кнопка-для-очистки-поля)        | `boolean`                                                                                                                                                                                                       | `false`      | Отображение кнопки-крестик для очистки поля ввода                                                                                            |
| [`status?`](#статус)                                  | `''` \| `'alert'` \| `'success'` \| `'warning'`                                                                                                                                                                 | `''`         | Визуальный стиль поля для обозначения состояния                                                                                              |
| [`size?`](#размер-поля)                               | `'xs'` \| `'s'` \| `'m'` \| `'l'`                                                                                                                                                                               | `'m'`        | Размер шрифта, отступы и высота поля                                                                                                         |
| [`form?`](#форма)                                     | `'default'` \| `'brick'` \| `'round'` \| `'clearRound'` \| `'roundClear'` \| `'clearDefault'` \| `'defaultClear'` \| `'defaultBrick'` \| `'brickDefault'` \| `'brickClear'` \| `'clearBrick'` \| `'clearClear'` | `'default'`  | Форма поля                                                                                                                                   |
| [`view?`](#вид)                                       | `'default'` \| `'clear'`                                                                                                                                                                                        | `'default'`  | Внешний вид поля                                                                                                                             |
| [`disabled?`](#вид)                                   | `boolean`                                                                                                                                                                                                       | -            | Делает поле неактивным                                                                                                                       |
| [`rows?`](#строки-и-колонки)                          | `number`                                                                                                                                                                                                        | -            | Количество строк, работает только с `type='textarea'`, нельзя использовать вместе с `minRows` и `maxRows`                                    |
| [`cols?`](#строки-и-колонки)                          | `number`                                                                                                                                                                                                        | -            | Количество колонок                                                                                                                           |
| [`minRows?`](#минимальная-и-максимальная-высота)      | `number`                                                                                                                                                                                                        | -            | Минимум видимых строк, работает только с `type='textarea'`, нельзя использовать вместе с `rows`                                              |
| [`maxRows?`](#минимальная-и-максимальная-высота)      | `number`                                                                                                                                                                                                        | -            | Максимум видимых строк, работает только с `type='textarea'`, нельзя использовать вместе с `rows`                                             |
| [`maxLength?`](#минимальная-и-максимальная-высота)    | `number`                                                                                                                                                                                                        | -            | Максимальная длина текста                                                                                                                    |
| [`required?`](#обязательность)                        | `boolean`                                                                                                                                                                                                       | -            | Делает поле обязательным для заполнения                                                                                                      |
| [`autoFocus?`](#фокус)                                | `boolean`                                                                                                                                                                                                       | -            | Перемещает фокус в поле                                                                                                                      |
| `id?`                                                 | `string`                                                                                                                                                                                                        | -            | ID поля в DOM                                                                                                                                |
| `name?`                                               | `string`                                                                                                                                                                                                        | -            | Имя поля в DOM                                                                                                                               |
| `tabIndex?`                                           | `number`                                                                                                                                                                                                        | -            | Порядковый номер при переходе между элементами интерфейса по клавише **Tab**                                                                 |
| `autoComplete?`                                       | [`AutoComplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete)                                                                                                                     | -            | Автозаполнение поля ввода — аналог HTML-атрибута [`autocomplete`](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/autocomplete) |
| `onChange?`                                           | `(value: string \| null, params: { e: React.ChangeEvent; id?: string; name?: string }) => void`                                                                                                                 | -            | Действие при изменении значения в поле                                                                                                       |
| `onFocus?`                                            | `React.FocusEventHandler<HTMLElement>`                                                                                                                                                                          | -            | Действие при получении фокуса                                                                                                                |
| `onBlur?`                                             | `React.FocusEventHandler<HTMLElement>`                                                                                                                                                                          | -            | Действие при потере фокуса                                                                                                                   |
| `onClear?`                                            | `React.MouseEventHandler<HTMLButtonElement>`                                                                                                                                                                    | -            | Действие при очистке поля                                                                                                                    |
| `className?`                                          | `string`                                                                                                                                                                                                        | -            | Дополнительный CSS-класс                                                                                                                     |
| `inputRef?`                                           | `React.Ref<HTMLTextAreaElement \| HTMLInputElement>`                                                                                                                                                            | -            | Ссылка на DOM-элемент поля ввода                                                                                                             |
| `inputContainerRef?`                                  | `React.Ref<HTMLDivElement>`                                                                                                                                                                                     | -            | Ссылка на DOM-элемент контейнера поля ввода                                                                                                  |
| `ref?`                                                | `React.Ref<HTMLDivElement>`                                                                                                                                                                                     | -            | Ссылка на корневой DOM-элемент компонента                                                                                                    |

```tsx
type TextFieldPropValue<TYPE> = TYPE extends 'textarray'
  ? string[] | null
  : string | null;

type TextFieldPropDefaultValue<TYPE> = TYPE extends 'textarray'
  ? never
  : string | null;

type TextFieldPropOnChange<TYPE> = (
  value: TextFieldPropValue<TYPE>,
  params: {
    e: React.ChangeEvent | React.MouseEvent | React.KeyboardEvent;
  },
) => void;

type InputType<TYPE extends string> = TYPE extends 'textarea'
  ? HTMLTextAreaElement
  : HTMLInputElement;

type TextFieldPropRenderValueItem = (props: {
  item: string;
  index: number;
  onRemove: (e: React.MouseEvent) => void;
  size: FieldPropSize;
  disabled: boolean | undefined;
}) => React.ReactNode;
```

## Содержимое

### Тип поля

Свойство `type` определяет тип поля ввода и соответствующий HTML-тег. Поддерживаемые варианты:

- `text` — однострочное текстовое поле (`<input type="text">`).

<MdxTabs>

<TextFieldExampleTypeText />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return (
  <TextField
    onChange={handleChange}
    value={value}
    type="text"
    placeholder="Одна строчка"
  />
);
```

</MdxTabs>

- `textarea` — многострочное текстовое поле (`<textarea>`).

<MdxTabs>

<TextFieldExampleTypeTextarea />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return (
  <TextField
    onChange={handleChange}
    value={value}
    type="textarea"
    cols={200}
    rows={3}
    placeholder="Несколько строчек"
  />
);
```

</MdxTabs>

- `number` — поле для ввода чисел (`<input type="number">`).

<MdxTabs>

<TextFieldExampleTypeNumber />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return (
  <TextField
    onChange={handleChange}
    value={value}
    type="number"
    step="2"
    placeholder="Здесь цифры"
  />
);
```

</MdxTabs>

- `password` — поле для ввода пароля с маскировкой.

<MdxTabs>

<TextFieldExampleTypePassword />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return (
  <TextField
    onChange={handleChange}
    value={value}
    type="password"
    placeholder="Пароль"
  />
);
```

</MdxTabs>

Также поддерживаются любые другие значения атрибута `type` для `<input>`, например, `email`.

### Подсказка

Свойство `placeholder` позволяет добавить подсказку внутри поля, чтобы указать, какие данные нужно ввести или в каком формате.

```tsx
<TextField placeholder="Здесь только цифры" />
```

<TextFieldExampleTextPlaceholder />

### Значение

Свойство `value` задаёт текущее значение поля. Для управления значением используйте хук `useState`.

```tsx
const App = () => {
  const [value, setValue] = useState('текст');

  return <TextField value={value} onChange={setValue} />;
};
```

<TextFieldExampleTextValue />

Свойство `defaultValue` задаёт предустановленное значение поля.

### Дополнительная информация

Свойства `leftSide` и `rightSide` позволяют добавить текст или иконку слева или справа внутри поля.

```tsx
<TextField leftSide="куда" />
<TextField leftSide="карат" />
```

<TextFieldExampleTextLeft />

<MdxInformer status="alert">

Свойство `rightSide` не работает с `type="number"`.

</MdxInformer>

### Лейбл

Свойство `label` добавляет текст лейбла, а `labelPosition` определяет его положение (`top` или `left`). Свойство `labelIcon` позволяет добавить иконку к лейблу.

```tsx
<TextField placeholder="Здесь лейбл сверху" label="Лейбл" labelPosition="top" />
<TextField placeholder="Здесь лейбл слева" label="Лейбл" labelPosition="left" />
```

<TextFieldExampleLabel />

### Подпись

Свойство `caption` добавляет подпись под полем, которая наследует стиль [статуса поля](#статус).

```tsx
<TextField status="success" placeholder="Статус success" caption="Это подпись" />
<TextField status="alert" placeholder="Статус alert" caption="Это подпись" />
<TextField status="warning" placeholder="Статус warning" caption="Это подпись" />
<TextField placeholder="Обычное поле" caption="Это подпись" />
```

<TextFieldExampleCaption />

### Шаг, набор значений и диапазон

Для полей с `type="number"` свойство `step` задаёт шаг изменения значения с помощью кнопок-стрелок. Можно указать массив чисел для ограничения значений. Свойства `min` и `max` ограничивают диапазон значений.

<MdxTabs>

<TextFieldExampleStepArray />

```tsx
export const TextFieldExampleStepArray = () => {
  const [value, setValue] = useState<string | null>(null);

  return (
    <TextField
      onChange={setValue}
      value={value}
      type="number"
      step={[10, 50, 80]}
      min="0"
      max="100"
    />
  );
};
```

</MdxTabs>

Свойство `incrementButtons` позволяет скрыть или показать кнопки-стрелки.

<MdxTabs>

<TextFieldExampleIncrementButtons />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return (
  <TextField
    onChange={handleChange}
    value={value}
    type="number"
    incrementButtons={false}
  />
);
```

</MdxTabs>

### Кнопка для очистки поля

Свойство `withClearButton` добавляет кнопку-крестик для очистки поля, которая появляется, если поле заполнено.

<MdxTabs>

<TextFieldExampleWithClearButton />

```tsx
const [value, setValue] = useState<string | null>(null);
const handleChange = ({ value }: { value: string | null }) => setValue(value);

return <TextField onChange={handleChange} value={value} withClearButton />;
```

</MdxTabs>

## Обязательность

Свойство `required` делает поле обязательным для заполнения. При наличии лейбла рядом с ним отображается маркер обязательности.

```tsx
<TextField label="Поле раз" type="text" placeholder="Обязательное" required />
<TextField label="Поле два" type="text" placeholder="Необязательное" />
```

<TextFieldExampleRequired />

## Фокус

Свойство `autoFocus` автоматически устанавливает фокус на поле при загрузке компонента.

```tsx
<TextField label="Поле раз" type="text" placeholder="В фокусе" autoFocus />
<TextField label="Поле два" type="text" placeholder="Не в фокусе" />
```

## Внешний вид

### Вид

Свойство `view` определяет внешний вид поля. Варианты:

- `default` — стандартный стиль.
- `clear` — минималистичный стиль без рамок.

Свойство `disabled` делает поле неактивным.

```tsx
<TextField view="default" placeholder="Самое обычное поле" />
<TextField view="clear" placeholder="Незаметное поле" />
```

<TextFieldExampleView />

```tsx
<TextField placeholder="Неактивное поле" disabled />
```

<TextFieldExampleViewDisabled />

<MdxInformer status="normal">

Для создания hover-эффекта при `view="clear"` управляйте стилями контейнера, в котором находится `TextField`.

</MdxInformer>

## Статус

Свойство `status` задаёт визуальный стиль поля для обозначения его состояния. Варианты: `success`, `alert`, `warning`. Если не указан, используется обычный стиль.

```tsx
<TextField status="success" placeholder="Статус success" />
<TextField status="alert" placeholder="Статус alert" />
<TextField status="warning" placeholder="Статус warning" />
<TextField placeholder="Обычное поле" />
```

<TextFieldExampleStatus />

### Форма

Свойство `form` задаёт форму углов поля. Варианты:

- `default` — скруглённые края.
- `brick` — квадратные края.
- `round` — полностью закруглённые края.

```tsx
<TextField placeholder="форма default" />
<TextField form="brick" placeholder="Форма brick" />
<TextField form="round" placeholder="Форма round" />
```

<TextFieldExampleFormBasic />

- Гибридные формы (`clearRound`, `roundClear`, etc.) для комбинации с другими элементами.

```tsx
<TextField placeholder="Электронная почта" form="roundClear" style={{ width: '260px' }} />
<Button form="brickRound" label="Подписаться" />
```

<TextFieldExampleFormHybrid />

## Поведение

### Обязательность

Свойство `required` делает поле обязательным для заполнения. При наличии лейбла рядом с ним отображается маркер обязательности.

```tsx
<TextField label="Поле раз" type="text" placeholder="Обязательное" required />
<TextField label="Поле два" type="text" placeholder="Необязательное" />
```

<TextFieldExampleRequired />

### Фокус

Свойство `autoFocus` автоматически устанавливает фокус на поле при загрузке компонента. Свойства `onFocus` и `onBlur` задают действия при получении и потере фокуса соответственно.

```tsx
<TextField label="Поле раз" type="text" placeholder="В фокусе" autoFocus />
<TextField label="Поле два" type="text" placeholder="Не в фокусе" />
```

## Размеры

### Размер поля

Свойство `size` задаёт размер шрифта, отступы и высоту поля. Варианты: `xs`, `s`, `m`, `l`.

```tsx
<TextField size="xs" placeholder="Размер XS" />
<TextField size="s" placeholder="Размер S" />
<TextField size="m" placeholder="Размер M" />
<TextField size="l" placeholder="Размер L" />
```

<TextFieldExampleSize />

### Строки и колонки

Для `type="textarea"` свойства `rows` и `cols` задают количество строк и колонок соответственно.

```tsx
<TextField
  type="textarea"
  rows={7}
  cols={50}
  value="Я иду и пою обо всем хорошем и улыбку свою я дарю прохожим"
/>
```

<TextFieldExampleSizeRows />

### Минимальная и максимальная высота

Свойства `minRows` и `maxRows` задают минимальную и максимальную высоту для `type="textarea"`. Свойство `maxLength` ограничивает длину текста.

```tsx
<TextField
  type="textarea"
  minRows={13}
  cols={25}
  value="Я иду и пою обо всем хорошем и улыбку свою я дарю прохожим"
/>
```

<TextFieldExampleSizeMinRows />

## Маскирование

Для маскирования данных в `TextField` используется хук `useIMask` из библиотеки [react-imask](https://github.com/uNmAnNeR/imaskjs/tree/master/packages/react-imask#using-hook). Подробности о создании масок доступны в [документации imask](https://imask.js.org/guide.html).

### Как работает useIMask

Хук `useIMask` управляет значением поля через `ref`. Для начального значения используйте `defaultValue`, для программного изменения — метод `setValue`.

<MdxTabs>

<TextFieldExampleMaskSetValue />

```tsx
import { ReactMaskOpts, useIMask } from 'react-imask';
import React, { memo } from 'react';
import { IconRevert } from '@consta/icons/IconRevert';
import { Text } from '@consta/uikit/Text';
import { TextField } from '@consta/uikit/TextFieldCanary';
import { FieldGroup } from '@consta/uikit/FieldGroup';
import { FieldLabel } from '@consta/uikit/FieldLabel';
import { Button } from '@consta/uikit/Button';

const TextFieldMemo = memo(TextField);
const defaultValue = '9876543210';

export const TextFieldExampleMaskSetValue = () => {
  const { ref, setValue } = useIMask<HTMLInputElement, ReactMaskOpts>({
    mask: '+{7}(000)000-00-00',
  });

  return (
    <>
      <FieldLabel className={cnMixSpace({ mB: 'xs' })}>Телефон</FieldLabel>
      <FieldGroup>
        <TextFieldMemo
          placeholder="+7(999)999-99-99"
          inputRef={ref}
          defaultValue={defaultValue}
          withClearButton
          onClear={() => setValue('')}
        />
        <Button
          iconLeft={IconRevert}
          onClick={() => setValue(defaultValue)}
          title="Сбросить"
        />
      </FieldGroup>
    </>
  );
};
```

</MdxTabs>

### Примеры

#### Сумма

<MdxTabs>

<TextFieldExampleMaskAmount />

```tsx
import { ReactMaskOpts, useIMask } from 'react-imask';
import React, { memo } from 'react';
import { Text } from '@consta/uikit/Text';
import { TextField } from '@consta/uikit/TextFieldCanary';
import { cnMixSpace } from '@consta/uikit/MixSpace';

const TextFieldMemo = memo(TextField);

export const TextFieldExampleMaskAmount = () => {
  const { ref, value, unmaskedValue } = useIMask<
    HTMLInputElement,
    ReactMaskOpts
  >({
    mask: Number,
    min: 0,
    scale: 2,
    thousandsSeparator: ' ',
    radix: ',',
    padFractionalZeros: true,
    autofix: true,
    lazy: true,
    normalizeZeros: true,
    mapToRadix: ['.'],
  });

  return (
    <Example>
      <TextFieldMemo
        defaultValue="1000000"
        label="Сумма"
        placeholder="0"
        inputRef={ref}
      />
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>Value</FieldLabel>
        <Text>{value}</Text>
      </>
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>
          UnmaskedValue
        </FieldLabel>
        <Text>{unmaskedValue}</Text>
      </>
    </Example>
  );
};
```

</MdxTabs>

#### Телефон

<MdxTabs>

<TextFieldExampleMaskPhone />

```tsx
import { ReactMaskOpts, useIMask } from 'react-imask';
import React, { memo } from 'react';
import { Text } from '@consta/uikit/Text';
import { TextField } from '@consta/uikit/TextFieldCanary';
import { cnMixSpace } from '@consta/uikit/MixSpace';

const TextFieldMemo = memo(TextField);

export const TextFieldExampleMaskPhone = () => {
  const { ref, value, unmaskedValue } = useIMask<
    HTMLInputElement,
    ReactMaskOpts
  >({
    mask: '+{7}(000)000-00-00',
  });

  return (
    <Example col={{ 1: 0, 3: 700 }}>
      <TextFieldMemo
        label="Телефон"
        placeholder="+7(999)999-99-99"
        inputRef={ref}
        defaultValue="9876543210"
      />
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>Value</FieldLabel>
        <Text>{value}</Text>
      </>
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>
          UnmaskedValue
        </FieldLabel>
        <Text>{unmaskedValue}</Text>
      </>
    </Example>
  );
};
```

</MdxTabs>

#### Паспорт

<MdxTabs>

<TextFieldExampleMaskPassport />

```tsx
import { ReactMaskOpts, useIMask } from 'react-imask';
import React, { memo } from 'react';
import { Text } from '@consta/uikit/Text';
import { TextField } from '@consta/uikit/TextFieldCanary';
import { cnMixSpace } from '@consta/uikit/MixSpace';

const TextFieldMemo = memo(TextField);

export const TextFieldExampleMaskPassport = () => {
  const { ref, value, unmaskedValue } = useIMask<
    HTMLInputElement,
    ReactMaskOpts
  >({
    mask: '00 00 000000',
  });

  return (
    <Example col={{ 1: 0, 3: 700 }}>
      <TextFieldMemo
        label="паспорт"
        placeholder="00 00 000000"
        defaultValue="1234567890"
        inputRef={ref}
      />
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>Value</FieldLabel>
        <Text>{value}</Text>
      </>
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>
          UnmaskedValue
        </FieldLabel>
        <Text>{unmaskedValue}</Text>
      </>
    </Example>
  );
};
```

</MdxTabs>

#### Банковский счет

<MdxTabs>

<TextFieldExampleMaskBankAccount />

```tsx
import { ReactMaskOpts, useIMask } from 'react-imask';
import React, { memo } from 'react';
import { Text } from '@consta/uikit/Text';
import { TextField } from '@consta/uikit/TextFieldCanary';
import { cnMixSpace } from '@consta/uikit/MixSpace';

const TextFieldMemo = memo(TextField);

export const TextFieldExampleMaskBankAccount = () => {
  const { ref, value, unmaskedValue } = useIMask<
    HTMLInputElement,
    ReactMaskOpts
  >({
    mask: '0000 0000 0000 0000',
  });

  return (
    <Example col={{ 1: 0, 3: 700 }}>
      <TextFieldMemo
        label="Номер карты"
        placeholder="1111 1111 1111 1111"
        defaultValue="1111222233334444"
        inputRef={ref}
      />
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>Value</FieldLabel>
        <Text>{value}</Text>
      </>
      <>
        <FieldLabel className={cnMixSpace({ mB: 'xs' })}>
          UnmaskedValue
        </FieldLabel>
        <Text>{unmaskedValue}</Text>
      </>
    </Example>
  );
};
```

</MdxTabs>

## Пример использования

```tsx
import React, { useState } from 'react';
import { TextField } from '@consta/uikit/TextField';

const App = () => {
  const [value, setValue] = useState(null);
  const handleChange = setValue;

  return <TextField onChange={handleChange} value={value} />;
};
```
