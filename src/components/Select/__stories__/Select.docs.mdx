import { SelectExampleItems } from './examples/SelectExampleItems/SelectExampleItems';
import { SelectExamplePlaceholder } from './examples/SelectExamplePlaceholder/SelectExamplePlaceholder';
import { SelectExampleSize } from './examples/SelectExampleSize/SelectExampleSize';
import { SelectExampleForm } from './examples/SelectExampleForm/SelectExampleForm';
import { SelectExampleView } from './examples/SelectExampleView/SelectExampleView';
import { SelectExampleRenderItem } from './examples/SelectExampleRenderItem/SelectExampleRenderItem';
import { SelectExampleRenderValue } from './examples/SelectExampleRenderValue/SelectExampleRenderValue';
import { SelectExampleDisabled } from './examples/SelectExampleDisabled/SelectExampleDisabled';
import { SelectExampleDisabledItem } from './examples/SelectExampleDisabledItem/SelectExampleDisabledItem';
import { SelectExampleGroups } from './examples/SelectExampleGroups/SelectExampleGroups';
import {
  SelectExampleCustomTypes,
  SelectExampleCustomTypesWithGroups,
} from './examples/SelectExampleCustomTypes/SelectExampleCustomTypes';

# Select

Выпадающий список. Позволяет выбрать один из нескольких вариантов.

Используйте Select, если вариантов много — пять или больше. Если вариантов меньше,
используйте [Radio](?path=/docs/components-radio--playground)
или [ChoiceGroup](?path=/docs/components-choicegroup--playground).

- [Варианты](#варианты)
- [Значение](#значение)
- [onChange](#onchange)
- [Подсказка](#подсказка)
- [Размер](#размер)
- [Форма](#форма)
- [Внешний вид](#внешний-вид)
- [Отключение поля ввода](#отключение-поля-ввода)
- [Отключение элементов списка](#отключение-элементов-списка)
- [Группировка списка](#группировка-списка)
- [Свое представление элемента списка](#свое-представление-элемента-списка)
- [Свое представление выбранного значения](#свое-представление-выбранного-значения)
- [Свои тип данных items и groups](#свои-тип-данных-items-и-groups)
- [Список свойств](#свойства)

## Варианты

Варианты для выпадающего списка передаются в своство `items`.
Название элементов должно быть с заглавной буквы.

По умолчанию тип элемента массива `items` равен [DefaultItem](#свойства)

## Значение

Значение задается в свойстве `value`

По умолчанию тип своства `value` равен [DefaultItem](#свойства)

## onChange

Чтобы взаимодействовать с выбором занчения используйте свойство `onChange`,
он сработает при выборе элемента или при очистке поля ввода,
и вернет его значение которое задавали в `items`.
Так же вернет событие выбора, ввод заначения возможен как по клику мыши так
и по клавеше `Enter` на клавиатуре.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleItems() {
  const [value, setValue] = useState<Item | null>();
  return <Select items={items} value={value} onChange={({ value }) => setValue(value)} />;
}
```

<SelectExampleItems />

## Подсказка

Подсказка, которая видна, когда ни один вариант не выбран, задается в свойстве `placeholder`.
Сформулируйте подсказку так, чтобы стало понятно, что по клику на поле раскроется список вариантов,
один из которых нужно выбрать.

Если не знаете, что написать в подсказке, используйте универсальное **Выберите**.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExamplePlaceholder() {
  const [value, setValue] = useState<Item | null>();
  return (
    <div className={cnDocsDecorator('Section')}>
      <Select
        placeholder="Выберите значение"
        items={items}
        value={value}
        onChange={({ value }) => setValue(value)}
      />
    </div>
  );
}
```

<SelectExamplePlaceholder />

## Размер

За размер компонента отвечает свойство `size`. Варианты: `xs`, `s` , `m` , `l` , по умолчанию `m`.

Компонент занимает всю ширину родительского блока.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleSize() {
  const [value, setValue] = useState<Item | null>();
  return (
    <>
      <Select
        placeholder="Выберите значение"
        size="xs"
        items={items}
        value={value}
        onChange={({ value }) => setValue(value)}
      />
    </>
  );
}
```

<SelectExampleSize />

## Форма

За форму селекта отвечает свойство `form`.Варианты:
`default`, `brick`, `round`, `clearRound`, `roundClear`, `clearDefault`, `defaultClear`, `defaultBrick`, `brickDefault`, `brickClear`, `clearBrick`, `clearClear`
по умолчанию `default`.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleForm() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      form="round"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
    />
  );
}
```

<SelectExampleForm />

## Внешний вид

За вид компонента отвечает свойство `view`. Варианты: `default , clear`, по умолчанию `default`.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleView() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      view="clear"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
    />
  );
}
```

<SelectExampleView />

## Отключение поля ввода

Для отключения поля ввода воспользуйтесь свойством `disabled`.

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleDisabled() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
      disabled
    />
  );
}
```

<SelectExampleDisabled />

## Отключение элементов списка

Для того чтобы отключить элемент списка укажите в элементе массива `items` свойство `disabled`,
либо свое свойство если вы используете свой тип `items`

```tsx
type Item = {
  label: string;
  id: number;
  disabled: boolean;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
    disabled: true,
  },
  {
    label: 'Второй',
    id: 2,
    disabled: false,
  },
  {
    label: 'Третий',
    id: 3,
    disabled: true,
  },
];

export function SelectExampleDisabledItem() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
    />
  );
}
```

<SelectExampleDisabledItem />

## Группировка списка

Для того чтобы сгруппировать элементы списка, вам необходимо передать массив групп в свойсто `groups`.

По умолчанию тип элемента массива `groups` равен [DefaultGroup](#свойства)

```tsx
type Item = {
  label: string;
  id: number;
  groupId: number;
};

type Group = {
  label: string;
  id: number;
};

const groups: Group[] = [
  {
    id: 1,
    label: 'Первая группа',
  },
  {
    id: 2,
    label: 'Вторая группа',
  },
  {
    id: 3,
    label: 'Третья группа',
  },
];

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
    groupId: 1,
  },
  {
    label: 'Второй',
    id: 2,
    groupId: 2,
  },
  {
    label: 'Третий',
    id: 3,
    groupId: 1,
  },
  {
    label: 'Четвертый',
    id: 3,
    groupId: 3,
  },
  {
    label: 'Пятый',
    id: 3,
    groupId: 2,
  },
];

export function SelectExampleGroups() {
  const [value, setValue] = useState<Item | null>();
  return (
    <div className={cnDocsDecorator('Section')}>
      <Select
        placeholder="Выберите значение"
        items={items}
        value={value}
        onChange={({ value }) => setValue(value)}
        groups={groups}
      />
    </div>
  );
}
```

<SelectExampleGroups />

## Свое представление элемента списка

Для того чтобы сделать свое представление элементов списка, воспользуйтесь свойством `renderItem`.
Свойство принимает [функцию рендера](https://reactjs.org/docs/render-props.html).

**Важно**: корневой DOM элемент, должен иметь свойство `role="option"`

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

const cnSelectExampleRenderItem = cn('SelectExampleRenderItem');

export function SelectExampleRenderItem() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
      renderItem={({ item, active, hovered, onClick, onMouseEnter }) => (
        <div
          className={cnSelectExampleRenderItem('Item', { active, hovered })}
          role="option"
          aria-selected={active}
          onMouseEnter={onMouseEnter}
          onClick={onClick}
        >
          {item.label}
        </div>
      )}
    />
  );
}
```

<SelectExampleRenderItem />

## Свое представление выбранного значения

Для того чтобы сделать свое представление выбранного значения, воспользуйтесь свойством `renderValue`.
Свойство принимает [функцию рендера](https://reactjs.org/docs/render-props.html).

```tsx
type Item = {
  label: string;
  id: number;
};

const items: Item[] = [
  {
    label: 'Первый',
    id: 1,
  },
  {
    label: 'Второй',
    id: 2,
  },
  {
    label: 'Третий',
    id: 3,
  },
];

export function SelectExampleRenderValue() {
  const [value, setValue] = useState<Item | null>();
  return (
    <Select
      placeholder="Выберите значение"
      items={items}
      value={value}
      onChange={({ value }) => setValue(value)}
      renderValue={({ item }) => (
        <div>
          <span role="img" aria-label="Panda">
            🐼
          </span>{' '}
          - {item.name}
        </div>
      )}
    />
  );
}
```

<SelectExampleRenderValue />

## Свои тип данных items и groups

Вы можете использовать отличные от [DefaultItem](#свойства) и [DefaultGroup](#свойства) типы данных.

Если ваш тип данных отличен от [DefaultItem](#свойства) и [DefaultGroup](#свойства),
необходимо использовать свойства:
`getItemLabel`, `getItemKey`, `getItemGroupKey`, `getItemDisabled`, `getGroupLabel`, `getGroupKey`,
для того чтобы компонент понимал откуда брать данные.

**Будьте внимательны**, если не указывать геттеры,
то будут использолваться геттеры по умолчанию, которые возможно не будут подходить к вашим типам данных.

### Геттеры по умолчанию

```ts
const defaultGetItemKey = (item) => item.id;
const defaultGetItemLabel = (item) => item.label;
const defaultGetItemGroupKey = (item) => item.groupId;
const defaultGetItemDisabled = (item) => item.disabled;
const defaultGetGroupKey = (group) => group.id;
const defaultGetGroupLabel = (group) => group.label;
```

### Пример с кастомным Item

```tsx
export function SelectExampleCustomTypes() {
  const [value, setValue] = useState<string | null>();
  return (
    <div className={cnDocsDecorator('Section', { indent: 'bottom' })}>
      <Select
        placeholder="Выберите значение"
        items={['Первый', 'Второй', 'Третий']}
        value={value}
        onChange={({ value }) => setValue(value)}
        getItemKey={(item) => item}
        getItemLabel={(item) => item}
      />
    </div>
  );
}
```

<SelectExampleCustomTypes />

### Пример с кастомным Item и Group

```tsx
export type Item = {
  name: string;
  group: string;
};

export const items: Item[] = [
  { name: 'Первый', group: 'Первая группа' },
  { name: 'Второй', group: 'Третья группа' },
  { name: 'Третий', group: 'Вторая группа' },
  { name: 'Четвертый', group: 'Первая группа' },
  { name: 'Пятый', group: 'Первая группа' },
  { name: 'Шестой', group: 'Третья группа' },
  { name: 'Седьмой', group: 'Первая группа' },
  { name: 'Восьмой', group: 'Вторая группа' },
  { name: 'Девятый', group: 'Третья группа' },
  { name: 'Десятый', group: 'Вторая группа' },
];

export const groups: string[] = ['Первая группа', 'Вторая группа', 'Третья группа'];

export function SelectExampleCustomTypesWithGroups() {
  const [value, setValue] = useState<Item | null>();
  return (
    <div className={cnDocsDecorator('Section')}>
      <Select
        placeholder="Выберите значение"
        items={items}
        groups={groups}
        value={value}
        onChange={({ value }) => setValue(value)}
        getItemKey={(item) => item.name}
        getItemLabel={(item) => item.name}
        getItemGroupKey={(item) => item.group}
        getGroupKey={(group) => group}
        getGroupLabel={(group) => group}
      />
    </div>
  );
}
```

<SelectExampleCustomTypesWithGroups />

## Свойства

```tsx
type DefaultItem = {
  label: string;
  id: string | number;
  groupId?: string | number;
  disabled?: boolean;
};

type DefaultGroup = {
  label: string;
  id: string | number;
};

type PropOnChange<ITEM = DefaultItem> = (props: {
  value: ITEM | null;
  e: React.SyntheticEvent;
}) => void;

type PropRenderItem<ITEM = DefaultItem> = (props: {
  item: ITEM;
  active: boolean;
  hovered: boolean;
  onClick: React.ReactEventHandler;
  onMouseEnter: React.ReactEventHandler;
}) => React.ReactElement | null;

type PropRenderValue<ITEM> = (props: { item: ITEM }) => React.ReactElement | null;

type PropGetItemLabel<ITEM> = (item: ITEM) => string;
type PropGetItemKey<ITEM> = (item: ITEM) => string | number;
type PropGetItemGroupKey<ITEM> = (item: ITEM) => string | number | undefined;
type PropgetItemDisabled<ITEM> = (item: ITEM) => boolean | undefined;
type PropGetGroupKey<GROUP> = (group: GROUP) => string | number;
type PropGetGroupLabel<GROUP> = (group: GROUP) => string;
```

| Свойство                                                  | Тип или варианты значения                              | По умолчанию | Описание                                                               |
| --------------------------------------------------------- | ------------------------------------------------------ | ------------ | ---------------------------------------------------------------------- |
| [`view?`](#внешний-вид)                                   | `default` , `clear`                                    | `default`    | Внешний вид компонента                                                 |
| [`disabled?`](#отключение-поля-ввода)                     | `boolean`                                              | -            | Делает компонент недоступным                                           |
| [`size?`](#размер)                                        | `'xs'`, `'s'` , `'m'` , `'l'`                          | `'m'`        | Размер компонента                                                      |
| [`form?`](#форма)                                         | `default`, `brick`, `round`                            | `default`    | Форма компонента                                                       |
| [`placeholder?`](#подсказка)                              | `string`                                               | -            | Подсказка, отображается, когда вариант не выбран                       |
| [`items`](#варианты)                                      | `ITEM[]`                                               | -            | Варианты                                                               |
| [`value?`](#значение)                                     | `ITEM`, `null`                                         | -            | Значение селекта                                                       |
| [`onChange?`](#onchange)                                  | `PropOnChange<ITEM>`                                   | -            | Обработчик события изменения значения компонента                       |
| [`groups?`](#группировка-списка)                          | `GROUP[]`                                              | -            | Группы                                                                 |
| [`renderItem?`](#свое-представление-элемента-списка)      | `PropRenderItem<ITEM>`                                 | -            | Рендер функция элемента списка                                         |
| [`renderValue?`](#свое-представление-выбранного-значения) | `PropRenderValue<ITEM>`                                | -            | Рендер функция элемента значения                                       |
| [`getItemLabel?`](#свои-тип-данных-items-и-groups)        | `PropGetItemLabel<ITEM>`                               | -            | Функция для определения названия элемента                              |
| [`getItemKey?`](#свои-тип-данных-items-и-groups)          | `PropGetItemKey<ITEM>`                                 | -            | Функция для определения уникального ключа элемента                     |
| [`getItemGroupKey?`](#свои-тип-данных-items-и-groups)     | `PropGetItemGroupKey<ITEM>`                            | -            | Функция для определения ключа группы, к которой будет привязан элемент |
| [`getItemDisabled?`](#свои-тип-данных-items-и-groups)     | `PropgetItemDisabled<ITEM>`                            | -            | Функция для определения состояния `disabled`                           |
| [`getGroupLabel?`](#свои-тип-данных-items-и-groups)       | `PropGetGroupKey<GROUP>`                               | -            | Функция для определения названия группы                                |
| [`getGroupKey?`](#свои-тип-данных-items-и-groups)         | `PropGetGroupLabel<GROUP>`                             | -            | Функция для определения уникального ключа группы                       |
| `onBlur?`                                                 | `(event?: React.FocusEvent<HTMLInputElement>) => void` | -            | Обработчик события `blur`                                              |
| `onFocus?`                                                | `(event?: React.FocusEvent<HTMLInputElement>) => void` | -            | Обработчик события `focus`                                             |
| `ariaLabel?`                                              | `string`                                               | -            | `aria` атрибут для поля ввода                                          |
| `name?`                                                   | `string`                                               | -            | Имя поля ввода                                                         |
| `className?`                                              | `string`                                               | -            | Дополнительный CSS-класс                                               |
| `dropdownClassName?`                                      | `string`                                               | -            | Дополнительный CSS-класс для выпадающего блока                         |
