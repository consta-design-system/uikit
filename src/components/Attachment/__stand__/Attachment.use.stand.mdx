import { MdxMenu } from '@consta/stand';
import {
  AttachmentExampleBasicsLoading,
  AttachmentExampleBasicsError,
  AttachmentExampleBasicsLoaded,
  AttachmentExampleBasicsLink,
} from './examples/AttachmentExampleBasics/AttachmentExampleBasics';

У компонента четыре основных состояния:

<MdxMenu>

- [Файл загружается](#файл-загружается)
- [Файл не загрузился](#файл-не-загрузился)
- [Файл успешно загрузился](#файл-успешно-загрузился)
- [Просмотр файла](#просмотр-файла)

</MdxMenu>

## Файл загружается

Вместо иконки с расширением файла покажите [индикатор загрузки](##LIBS.LIB.STAND.TAB/lib:uikit/stand:components-attachment-stable/tab:dev/hash:индикаторы-загрузки), если хотите — процент, на который файл загрузился. При наведении появляется кнопка для отмены загрузки с иконкой-крестиком (`IconClose`).

```tsx
<Attachment
  className={cnAttachmentExampleBasics()}
  fileName="Инструкция по сборке марсохода"
  fileExtension="pdf"
  withIcon
  loading
  loadingText="Загружено на 51%"
  buttonIcon={IconClose}
  buttonTitle="Отменить"
  onClick={() => console.log('onClick')}
  onButtonClick={(e) => {
    e.stopPropagation();
    console.log('onButtonClick');
  }}
/>
```

<AttachmentExampleBasicsLoading />

## Файл не загрузился

Файл не загрузился из-за какой-то ошибки. Тут всё просто: красным цветом напишите [описание ошибки](##LIBS.LIB.STAND.TAB/lib:uikit/stand:components-attachment-stable/tab:dev/hash:ошибка-при-загрузке) и что нужно сделать. В этом состоянии тоже есть кнопка для отмены загрузки.

```tsx
<Attachment
  className={cnAttachmentExampleBasics()}
  fileName="Инструкция по сборке марсохода"
  fileExtension="pdf"
  withIcon
  errorText="Файл слишком большой, максимум 100 ТБ"
  buttonIcon={IconClose}
  buttonTitle="Отменить"
  onClick={() => console.log('onClick')}
  onButtonClick={(e) => {
    e.stopPropagation();
    console.log('onButtonClick');
  }}
/>
```

<AttachmentExampleBasicsError />

## Файл успешно загрузился

В этом состоянии уже точно известно расширение файла — можно показать соответствующую иконку (если она есть). Дополнительно можно вывести метаинформацию о файле: размер, дату, автора или что-то ещё. При наведении появляется кнопка для удаления файла с иконкой корзины (`IconTrash`).

```tsx
<Attachment
  className={cnAttachmentExampleBasics()}
  fileName="Инструкция по сборке марсохода"
  fileExtension="pdf"
  withIcon
  fileDescription="1,5 Mб • 21.02.2051, 14:12"
  buttonIcon={IconTrash}
  buttonTitle="Удалить"
  onClick={() => console.log('onClick')}
  onButtonClick={(e) => {
    e.stopPropagation();
    console.log('onButtonClick');
  }}
/>
```

<AttachmentExampleBasicsLoaded />

## Просмотр файла

На первый взгляд, это состояние не отличается от предыдущего. Разница в том, что тут нет никаких кнопок, так как с самим файлом уже нельзя ничего сделать. В этом случае компонент должен стать ссылкой или кнопкой, по которой открывается или скачивается файл.

```tsx
<Attachment
  className={cnAttachmentExampleBasics()}
  fileName="Инструкция по сборке марсохода"
  fileExtension="pdf"
  withIcon
  fileDescription="1,5 Mб • 21.02.2051, 14:12"
  onClick={() => console.log('onClick')}
/>
```

<AttachmentExampleBasicsLink />
