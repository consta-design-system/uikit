import { MdxMenu, MdxTabs } from '@consta/stand';
import { SwitchGroupExampleSize } from './examples/SwitchGroupExampleSize/SwitchGroupExampleSize';
import {
  SwitchGroupExampleDisabled,
  SwitchGroupExampleDisabledGroup,
} from './examples/SwitchGroupExampleDisabled/SwitchGroupExampleDisabled';
import { SwitchGroupExampleDirection } from './examples/SwitchGroupExampleDirection/SwitchGroupExampleDirection';
import { SwitchGroupExampleView } from './examples/SwitchGroupExampleView/SwitchGroupExampleView';

<MdxMenu>

- [Обзор](#обзор)
- [Импорт](#импорт)
- [Свойства](#свойства)
- [Содержимое](#содержимое)
  - [Элементы и их подписи](#элементы-и-их-подписи)
- [Внешний вид](#внешний-вид)
  - [Размер](#размер)
  - [Стиль](#стиль)
  - [Расположение](#расположение)
- [Поведение](#поведение)
  - [Неактивный переключатель](#неактивный-переключатель)
  - [Неактивная группа](#неактивная-группа)
- [Пример использования](#пример)

</MdxMenu>

## Обзор

Компонент `SwitchGroup` позволяет создавать группу переключателей (чекбоксов), которые можно включать или выключать. Подходит для выбора нескольких опций одновременно, например, для настройки темы или параметров интерфейса.

## Импорт

```tsx
import { SwitchGroup } from '@consta/uikit/SwitchGroup';
```

## Свойства

| Свойство                                        | Тип                       | По умолчанию | Описание                                                                            |
| ----------------------------------------------- | ------------------------- | ------------ | ----------------------------------------------------------------------------------- |
| [`items`](#элементы-и-их-подписи)               | `ITEM[]`                  | -            | Массив объектов, описывающих переключатели                                          |
| [`value`](#элементы-и-их-подписи)               | `ITEM[] \| null`          | -            | Выбранные элементы                                                                  |
| [`getItemLabel?`](#элементы-и-их-подписи)       | `(item: ITEM) => string`  | -            | Функция для получения подписи переключателя, также используется как уникальный ключ |
| [`direction?`](#расположение)                   | `'column' \| 'row'`       | `'column'`   | Направление расположения переключателей                                             |
| [`size?`](#размер)                              | `'m' \| 'l'`              | `'m'`        | Размер переключателей                                                               |
| [`view?`](#стиль)                               | `'primary' \| 'ghost'`    | `'primary'`  | Внешний вид переключателей                                                          |
| [`disabled?`](#неактивная-группа)               | `boolean`                 | `false`      | Делает всю группу переключателей неактивной                                         |
| [`getItemDisabled?`](#неактивный-переключатель) | `(item: ITEM) => boolean` | -            | Функция для определения неактивного состояния отдельного переключателя              |
| [`onChange`](#элементы-и-их-подписи)            | `SwitchGroupPropOnChange` | -            | Действие при изменении выбранных элементов                                          |
| `name`                                          | `string`                  | -            | Имя `<input>` для доступности                                                       |
| `className?`                                    | `string`                  | -            | Дополнительные CSS-классы                                                           |

```tsx
export type SwitchGroupPropOnChange<ITEM> = (
  value: ITEM[] | null,
  props: {
    e: React.ChangeEvent<HTMLInputElement>;
  },
) => void;
```

## Содержимое

### Элементы и их подписи

Свойство `items` задаёт массив объектов, описывающих переключатели. Каждый объект может содержать данные, такие как подпись или статус активности. Пример:

```tsx
type Item = {
  name: string;
  disabled?: boolean;
};

const items: Item[] = [
  { name: 'Тёмная тема' },
  { name: 'Розовый текст' },
  { name: 'Мигающие заголовки' },
];
```

Для отображения подписей используйте функцию `getItemLabel`, которая извлекает текст из объекта. Свойство `value` определяет выбранные элементы, а `onChange` обрабатывает изменения.

<MdxTabs>

<SwitchGroupExampleDisabled />

```tsx
type Item = {
  name: string;
  disabled?: boolean;
};

const items: Item[] = [
  { name: 'Тёмная тема' },
  { name: 'Розовый текст' },
  { name: 'Мигающие заголовки' },
];

export function SwitchGroupExampleDisabled() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <SwitchGroup
      value={value}
      items={items}
      getItemLabel={(item) => item.name}
      onChange={setValue}
      name="SwitchGroupExampleDisabled"
    />
  );
}
```

</MdxTabs>

## Внешний вид

### Размер

Свойство `size` задаёт размер переключателей. Возможные значения: `'m'` (по умолчанию) и `'l'`.

<MdxTabs>

<SwitchGroupExampleSize />

```tsx
type Item = {
  name: string;
};

const items: Item[] = [{ name: 'Тёмная тема' }, { name: 'Розовый текст' }];

export function SwitchGroupExampleSize() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <>
      <SwitchGroup
        size="m"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleSizeM"
      />
      <SwitchGroup
        size="l"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleSizeL"
      />
    </>
  );
}
```

</MdxTabs>

### Стиль

Свойство `view` определяет внешний вид переключателей. Доступны два варианта:

- `'primary'` — стандартный стиль (по умолчанию).
- `'ghost'` — минималистичный стиль.

<MdxTabs>

<SwitchGroupExampleView />

```tsx
type Item = {
  name: string;
};

const items: Item[] = [{ name: 'Тёмная тема' }, { name: 'Розовый текст' }];

export function SwitchGroupExampleView() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <>
      <SwitchGroup
        view="primary"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleViewPrimary"
      />
      <SwitchGroup
        view="ghost"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleViewGhost"
      />
    </>
  );
}
```

</MdxTabs>

### Расположение

Свойство `direction` задаёт расположение переключателей:

- `'column'` — в столбик (по умолчанию).
- `'row'` — в строку.

<MdxTabs>

<SwitchGroupExampleDirection />

```tsx
type Item = {
  name: string;
};

const items: Item[] = [{ name: 'Тёмная тема' }, { name: 'Розовый текст' }];

export function SwitchGroupExampleDirection() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <>
      <SwitchGroup
        direction="column"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleDirectionColumn"
      />
      <SwitchGroup
        direction="row"
        value={value}
        items={items}
        getItemLabel={(item) => item.name}
        onChange={setValue}
        name="SwitchGroupExampleDirectionRow"
      />
    </>
  );
}
```

</MdxTabs>

## Поведение

### Неактивный переключатель

Чтобы отключить отдельный переключатель, используйте свойство `disabled` в объекте элемента или функцию `getItemDisabled`.

<MdxTabs>

<SwitchGroupExampleDisabled />

```tsx
type Item = {
  label: string;
  off?: boolean;
};

const items: Item[] = [
  { label: 'Тёмная тема' },
  { label: 'Розовый текст' },
  { label: 'Мигающие заголовки', off: true },
];

export function SwitchGroupExampleDisabled() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <SwitchGroup
      value={value}
      items={items}
      getItemDisabled={(item) => item.off}
      getItemLabel={(item) => item.label}
      onChange={setValue}
      name="SwitchGroupExampleDisabled"
    />
  );
}
```

</MdxTabs>

### Неактивная группа

Чтобы сделать всю группу переключателей неактивной, установите свойство `disabled` в `true`.

<MdxTabs>

<SwitchGroupExampleDisabledGroup />

```tsx
type Item = {
  label: string;
  off?: boolean;
};

const items: Item[] = [
  { label: 'Тёмная тема' },
  { label: 'Розовый текст' },
  { label: 'Мигающие заголовки', off: true },
];

export function SwitchGroupExampleDisabledGroup() {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <SwitchGroup
      value={value}
      items={items}
      getItemDisabled={(item) => item.off}
      getItemLabel={(item) => item.label}
      onChange={setValue}
      name="SwitchGroupExampleDisabledGroup"
      disabled
    />
  );
}
```

</MdxTabs>

## Пример использования

```tsx
import React from 'react';
import { SwitchGroup } from '@consta/uikit/SwitchGroup';

type Item = {
  name: string;
  disabled?: boolean;
};

const items: Item[] = [
  { name: 'один' },
  { name: 'два' },
  { name: 'три' },
  { name: 'disabled', disabled: true },
  { name: 'пять' },
];

const App = () => {
  const [value, setValue] = React.useState<Item[] | null>(null);

  return (
    <SwitchGroup
      value={value}
      items={items}
      getItemLabel={(item) => item.name}
      onChange={setValue}
      name="SwitchGroup"
    />
  );
};
```
