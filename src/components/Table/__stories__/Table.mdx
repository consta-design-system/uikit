import { Preview } from '@storybook/addon-docs/dist/blocks';

# Таблица

Таблица — компонент для отображения данных, с возможностями сортировки и фильтрации контента.

## Список свойств

```ts
type Column = {
  title: React.ReactNode;
  accessor: string;
  align?: 'left';
  center;
  right;
  withoutPadding?: boolean;
  width?: number;
  sortable?: boolean;
  sortByField?: string;
};

type Row = {
  [key: string]: React.ReactNode;
  id: string;
};

type Filter = {
  id: string;
  name: string;
  field: string;
  filterer: (value: FieldValue) => boolean;
};
```

| Свойство              | Тип или варианты значения                                             | По умолчанию   | Описание                                           |
| --------------------- | --------------------------------------------------------------------- | -------------- | -------------------------------------------------- |
| columns               | `Column[]`                                                            | -              | Колонки таблицы                                    |
| rows                  | `Row[]`                                                               | -              | Строки таблицы                                     |
| filters?              | `Filter[]`                                                            | -              | Список фильтров                                    |
| size?                 | `'s', 'm', 'l'`                                                       | 'l'            | Размер таблицы                                     |
| stickyHeader?         | `boolean`                                                             | false          | Зафиксированный заголовок                          |
| stickyColumns?        | `number`                                                              | 0              | Количество зафиксированных колонок                 |
| isResizable?          | `boolean`                                                             | false          | Возможность изменения размера колонок              |
| activeRow?            | `{ id?: string; onChange: (id?: string) => void; }`                   | -              | Активная строка                                    |
| verticalAlign?        | `'center', 'top', 'bottom'`                                           | `'top'`        | Вертикальное выравнивание                          |
| isZebraStriped?       | `boolean`                                                             | false          | Окрашивание строк зеброй                           |
| borderBetweenRows?    | `boolean`                                                             | false          | Отображение границ между строками                  |
| borderBetweenColumns? | `boolean`                                                             | false          | Отображение границ между колонками                 |
| emptyRowsPlaceholder? | `React.ReactNode`                                                     | -              | Заглушка, отображается, когда в таблице нет данных |
| className?            | `string`                                                              | -              | Дополнительный класс                               |
| lazyLoad?             | `{ maxVisibleRows?: number; scrollableEl?: HTMLDivElement / Window; }`| `210, tableRef`| Строки для отображения + элемент с onScroll listener|

## Пример использования

### Обычная таблица

```ts
import React from 'react';
import { Table } from '@consta/uikit/Table';

const columns = [
  {
    title: '№',
    accessor: 'id',
    align: 'center',
    width: 100,
    sortable: true,
  },
  {
    title: 'Имя',
    accessor: 'name',
    sortable: true,
  },
];

const rows = [
  {
    id: '1',
    name: 'Антон',
  },
  {
    id: '2',
    name: 'Василий',
  },
];

const App = () => {
  return <Table columns={columns} rows={rows} />;
};
```

### Со своим текстом, если нет данных

```ts
import React from 'react';
import { Table } from '@consta/uikit/Table';
import { Text } from '@consta/uikit/Text';

const columns = [
  {
    title: '№',
    accessor: 'id',
    align: 'center',
    width: 100,
    sortable: true,
  },
  {
    title: 'Имя',
    accessor: 'name',
    sortable: true,
  },
];

const rows = [];

const App = () => {
  return <Table columns={columns} rows={rows} emptyRowsPlaceholder={<Text>Пусто</Text>} />;
};
```

### Таблица для большого количества строк

По умолчанию scrollableEl - сама таблица. Для корректной работы не забыть указать её высоту, чтобы scroll listener отрабатывал правильно.

```ts
import React from 'react';
import { Table } from '@consta/uikit/Table';

const columns = [ ... ];
const rows = [ ... ];

const App = () => {
  return <Table columns={columns} rows={rows} lazyLoad={{ maxVisibleRows: 300, scrollableEl: window }}/>;
};
```
