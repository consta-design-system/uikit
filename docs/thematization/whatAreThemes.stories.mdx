import { Meta } from '@storybook/addon-docs/blocks';

<Meta
  title="Тематизация|Что такое темы и как это работает"
  id="thematization-what-are-themes"
  parameters={{ order: 400 }}
/>

# Что такое темы и как это работает

Тема — это основа, набор правил в CSS, который определяет, как выглядит проект,
построенный с помощью дизайн-системы. Без неё ничего работать не будет.

Тема определяет не только цвета, но ещё шрифты, размер текста, отступы, контролы и тени.

Вы можете использовать несколько тем в одном проекте: «дневную» и «ночную» для всего
интерфейса или разные темы для отдельных блоков.

Чтобы подключить тему, добавьте в свой проект компонент [`Theme`](#как-устроена-тема) и укажите [пресет](#зачем-нужны-пресеты).

- [Как устроена тема](#как-устроена-тема)
  - [Модификаторы](#модификаторы)
  - [Значения модификаторов и CSS](#значения-модификаторов-и-css)
- [Зачем нужны пресеты](#зачем-нужны-пресеты)
- [Как использовать пресеты](#как-использовать-пресеты)
- [Как подключить тему](/?path=/docs/thematization-how-to-connect-theme--page)

## Как устроена тема

### Модификаторы

В компонент `Theme` входит несколько модификаторов, каждый из которых отвечает за свою область:

- `_color` — цвета,
- `_control` — внешний вид компонентов,
- `_font` — шрифты,
- `_shadow` — тени,
- `_size` — размер текста и междустрочный интервал,
- `_space` — отступы.

[Подробнее про модификаторы](/?path=/docs/components-theme--playground) (см. раздел «Структура темы»)

### Значения модификаторов и CSS

У любого модификатора может быть одно или несколько значений, которые описываются в отдельных CSS-файлах.

Имя файла формируется так:

`Theme_<модификатор>_<значение модификатора>.css`

Файлы хранится в директории компонента `Theme`, в папках с именами модификаторов.

Например, в папке `_color` лежат CSS-файлы со всеми вариантами цветовых схем, которые существуют в дизайн-системе.

```
_color / Theme_color_gpnDark.css;
_color / Theme_color_gpnDefault.css;
_color / Theme_color_gpnDisplay.css;
```

`gpnDark`, `gpnDefault` и `gpnDisplay` — это значения модификатора `_color`, они нужны при создании [пресета](#зачем-нужны-пресеты) — чтобы указать, какой CSS-файл в каких случаях использовать.

[Посмотреть, что в других папках](https://github.com/consta-design-system/uikit/tree/master/src/components/Theme)

## Зачем нужны пресеты

Пресет — это `preset`, свойство компонента `Theme`. Он нужен, чтобы сформировать набор конкретных CSS-файлов, которые нужно использовать в разных случаях.

Вот так выглядит файл пресета `presetGpnDark` (он включает тёмную тему в дизайн-системе Consta): сначала вы импортируете все CSS-файлы, которые хотите использовать для тёмной темы, потом описываете, в каких случаях (для каких модификаторов) какой файл нужно подключить.

```tsx
import '../Theme.css';
import '../_color/Theme_color_gpnDefault.css';
import '../_color/Theme_color_gpnDark.css';
import '../_control/Theme_control_gpnDefault.css';
import '../_font/Theme_font_gpnDefault.css';
import '../_size/Theme_size_gpnDefault.css';
import '../_space/Theme_space_gpnDefault.css';
import '../_shadow/Theme_shadow_gpnDefault.css';

import { ThemePreset } from '../Theme';

export const presetGpnDark: ThemePreset = {
  color: {
    primary: 'gpnDark',
    accent: 'gpnDark',
    invert: 'gpnDefault',
  },
  control: 'gpnDefault',
  font: 'gpnDefault',
  size: 'gpnDefault',
  space: 'gpnDefault',
  shadow: 'gpnDefault',
};
```

Для цветов предусмотрены три схемы (основная, акцентая и инвертная), для остальных модификаторов — по одной. [Подробнее про модификаторы](/?path=/docs/components-theme--playground) (см. раздел «Структура темы»)

## Как использовать пресеты

Пресеты можно применять ко всему проекту или к отдельным элементам.

Если вы хотите использовать переключатель между тёмным и светлым интерфейсом или между другими модификациями темы, вам понадобится несколько пресетов и переключатель между ними.

Если ваш интерфейс существует в одном состоянии, хватит одного пресета.

[Подробнее о пресетах](/?path=/docs/components-theme--playground) (см. раздел «Пресеты»)

[Как создать свой пресет](/?path=/docs/thematization-how-to-create-preset--page)

[Переключатель тем](/?path=/docs/components-themetoggler--playground)
